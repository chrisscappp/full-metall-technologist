const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GenerateExcelReportContent-BALxNjFl.js","assets/index-Dc0lYbGn.js","assets/index-CEFbtCF1.css","assets/index-C0KQb3kg.js","assets/Input-Cx1eHjTj.js","assets/Input-CWNLdbKt.css","assets/ParseModelVariablesGuideContent-CtYnvFns.js","assets/ParseModelVariablesGuideContent-DN3wvH_2.css"])))=>i.map(i=>d[i]);
import{R as fe,r as C,u as Kt,j as i,c as de,V as F,T as v,H as ze,B as te,_ as Yt,a as Cr,P as jt}from"./index-Dc0lYbGn.js";import{I as V,C as ne,t as yr}from"./Input-Cx1eHjTj.js";const jr="_header_15gq0_1",vr="_resultWrap_15gq0_6",Nr="_form_15gq0_11",Sr="_btn_15gq0_23",xe={header:jr,resultWrap:vr,form:Nr,btn:Sr};var Ie=e=>e.type==="checkbox",Fe=e=>e instanceof Date,ge=e=>e==null;const Xt=e=>typeof e=="object";var oe=e=>!ge(e)&&!Array.isArray(e)&&Xt(e)&&!Fe(e),kr=e=>oe(e)&&e.target?Ie(e.target)?e.target.checked:e.target.value:e,Dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Fr=(e,t)=>e.has(Dr(t)),Er=e=>{const t=e.constructor&&e.constructor.prototype;return oe(t)&&t.hasOwnProperty("isPrototypeOf")},it=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ae(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(it&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(oe(e)&&Er(e)))return e;const s=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=ae(e[a]));return s}var We=e=>/^\w*$/.test(e),re=e=>e===void 0,nt=e=>Array.isArray(e)?e.filter(Boolean):[],ot=e=>nt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,t,r)=>{if(!t||!oe(e))return r;const s=(We(t)?[t]:ot(t)).reduce((a,n)=>ge(a)?a:a[n],e);return re(s)||s===e?re(e[t])?r:e[t]:s},ye=e=>typeof e=="boolean",we=e=>typeof e=="function",ee=(e,t,r)=>{let s=-1;const a=We(t)?[t]:ot(t),n=a.length,l=n-1;for(;++s<n;){const d=a[s];let j=r;if(s!==l){const b=e[d];j=oe(b)||Array.isArray(b)?b:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=j,e=e[d]}};const vt={BLUR:"blur",FOCUS_OUT:"focusout"},Ce={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ve={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Vr=fe.createContext(null);Vr.displayName="HookFormControlContext";var zr=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const l=n;return t._proxyFormState[l]!==Ce.all&&(t._proxyFormState[l]=!s||Ce.all),e[l]}});return a};const Tr=typeof window<"u"?fe.useLayoutEffect:fe.useEffect;var pe=e=>typeof e=="string",Mr=(e,t,r,s,a)=>pe(e)?(s&&t.watch.add(e),S(r,e,a)):Array.isArray(e)?e.map(n=>(s&&t.watch.add(n),S(r,n))):(s&&(t.watchAll=!0),r),rt=e=>ge(e)||!Xt(e);function Se(e,t,r=new WeakSet){if(rt(e)||rt(t))return Object.is(e,t);if(Fe(e)&&Fe(t))return Object.is(e.getTime(),t.getTime());const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const n of s){const l=e[n];if(!a.includes(n))return!1;if(n!=="ref"){const d=t[n];if(Fe(l)&&Fe(d)||oe(l)&&oe(d)||Array.isArray(l)&&Array.isArray(d)?!Se(l,d,r):!Object.is(l,d))return!1}}return!0}const Or=fe.createContext(null);Or.displayName="HookFormContext";var $r=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},Ae=e=>Array.isArray(e)?e:[e],Nt=()=>{let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}};function Zt(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],n=t[s];if(a&&oe(a)&&n){const l=Zt(a,n);oe(l)&&(r[s]=l)}else e[s]&&(r[s]=n)}return r}var _e=e=>oe(e)&&!Object.keys(e).length,at=e=>e.type==="file",Be=e=>{if(!it)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Jt=e=>e.type==="select-multiple",lt=e=>e.type==="radio",Ar=e=>lt(e)||Ie(e),et=e=>Be(e)&&e.isConnected;function Lr(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=re(e)?s++:e[t[s++]];return e}function Pr(e){for(const t in e)if(e.hasOwnProperty(t)&&!re(e[t]))return!1;return!0}function ie(e,t){const r=Array.isArray(t)?t:We(t)?[t]:ot(t),s=r.length===1?e:Lr(e,r),a=r.length-1,n=r[a];return s&&delete s[n],a!==0&&(oe(s)&&_e(s)||Array.isArray(s)&&Pr(s))&&ie(e,r.slice(0,-1)),e}var Ir=e=>{for(const t in e)if(we(e[t]))return!0;return!1};function Qt(e){return Array.isArray(e)||oe(e)&&!Ir(e)}function st(e,t={}){for(const r in e){const s=e[r];Qt(s)?(t[r]=Array.isArray(s)?[]:{},st(s,t[r])):re(s)||(t[r]=!0)}return t}function Ve(e,t,r){r||(r=st(t));for(const s in e){const a=e[s];if(Qt(a))re(t)||rt(r[s])?r[s]=st(a,Array.isArray(a)?[]:{}):Ve(a,ge(t)?{}:t[s],r[s]);else{const n=t[s];r[s]=!Se(a,n)}}return r}const St={value:!1,isValid:!1},kt={value:!0,isValid:!0};var er=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!re(e[0].attributes.value)?re(e[0].value)||e[0].value===""?kt:{value:e[0].value,isValid:!0}:kt:St}return St},tr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>re(e)?e:t?e===""?NaN:e&&+e:r&&pe(e)?new Date(e):s?s(e):e;const Dt={isValid:!1,value:null};var rr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Dt):Dt;function Ft(e){const t=e.ref;return at(t)?t.files:lt(t)?rr(e.refs).value:Jt(t)?[...t.selectedOptions].map(({value:r})=>r):Ie(t)?er(e.refs).value:tr(re(t.value)?e.ref.value:t.value,e)}var Gr=(e,t,r,s)=>{const a={};for(const n of e){const l=S(t,n);l&&ee(a,n,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Ue=e=>e instanceof RegExp,Me=e=>re(e)?e:Ue(e)?e.source:oe(e)?Ue(e.value)?e.value.source:e.value:e,Et=e=>({isOnSubmit:!e||e===Ce.onSubmit,isOnBlur:e===Ce.onBlur,isOnChange:e===Ce.onChange,isOnAll:e===Ce.all,isOnTouch:e===Ce.onTouched});const Vt="AsyncFunction";var Rr=e=>!!e&&!!e.validate&&!!(we(e.validate)&&e.validate.constructor.name===Vt||oe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Vt)),Br=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),zt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Le=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const n=S(e,a);if(n){const{_f:l,...d}=n;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!s)return!0;if(l.ref&&t(l.ref,l.name)&&!s)return!0;if(Le(d,t))break}else if(oe(d)&&Le(d,t))break}}};function Tt(e,t,r){const s=S(e,r);if(s||We(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),l=S(t,n),d=S(e,n);if(l&&!Array.isArray(l)&&r!==n)return{name:r};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};a.pop()}return{name:r}}var Ur=(e,t,r,s)=>{r(e);const{name:a,...n}=e;return _e(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(l=>t[l]===(!s||Ce.all))},qr=(e,t,r)=>!e||!t||e===t||Ae(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Wr=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Hr=(e,t)=>!nt(S(e,t)).length&&ie(e,t),Kr=(e,t,r)=>{const s=Ae(S(e,r));return ee(s,"root",t[r]),ee(e,r,s),e};function Mt(e,t,r="validate"){if(pe(e)||Array.isArray(e)&&e.every(pe)||ye(e)&&!e)return{type:r,message:pe(e)?e:"",ref:t}}var Ee=e=>oe(e)&&!Ue(e)?e:{value:e,message:""},Ot=async(e,t,r,s,a,n)=>{const{ref:l,refs:d,required:j,maxLength:b,minLength:p,min:h,max:N,pattern:_,validate:T,name:M,valueAsNumber:L,mount:q}=e._f,m=S(r,M);if(!q||t.has(M))return{};const k=d?d[0]:l,$=D=>{a&&k.reportValidity&&(k.setCustomValidity(ye(D)?"":D||""),k.reportValidity())},w={},P=lt(l),G=Ie(l),W=P||G,X=(L||at(l))&&re(l.value)&&re(m)||Be(l)&&l.value===""||m===""||Array.isArray(m)&&!m.length,R=$r.bind(null,M,s,w),J=(D,z,I,H=ve.maxLength,B=ve.minLength)=>{const U=D?z:I;w[M]={type:D?H:B,message:U,ref:l,...R(D?H:B,U)}};if(n?!Array.isArray(m)||!m.length:j&&(!W&&(X||ge(m))||ye(m)&&!m||G&&!er(d).isValid||P&&!rr(d).isValid)){const{value:D,message:z}=pe(j)?{value:!!j,message:j}:Ee(j);if(D&&(w[M]={type:ve.required,message:z,ref:k,...R(ve.required,z)},!s))return $(z),w}if(!X&&(!ge(h)||!ge(N))){let D,z;const I=Ee(N),H=Ee(h);if(!ge(m)&&!isNaN(m)){const B=l.valueAsNumber||m&&+m;ge(I.value)||(D=B>I.value),ge(H.value)||(z=B<H.value)}else{const B=l.valueAsDate||new Date(m),U=A=>new Date(new Date().toDateString()+" "+A),se=l.type=="time",ce=l.type=="week";pe(I.value)&&m&&(D=se?U(m)>U(I.value):ce?m>I.value:B>new Date(I.value)),pe(H.value)&&m&&(z=se?U(m)<U(H.value):ce?m<H.value:B<new Date(H.value))}if((D||z)&&(J(!!D,I.message,H.message,ve.max,ve.min),!s))return $(w[M].message),w}if((b||p)&&!X&&(pe(m)||n&&Array.isArray(m))){const D=Ee(b),z=Ee(p),I=!ge(D.value)&&m.length>+D.value,H=!ge(z.value)&&m.length<+z.value;if((I||H)&&(J(I,D.message,z.message),!s))return $(w[M].message),w}if(_&&!X&&pe(m)){const{value:D,message:z}=Ee(_);if(Ue(D)&&!m.match(D)&&(w[M]={type:ve.pattern,message:z,ref:l,...R(ve.pattern,z)},!s))return $(z),w}if(T){if(we(T)){const D=await T(m,r),z=Mt(D,k);if(z&&(w[M]={...z,...R(ve.validate,z.message)},!s))return $(z.message),w}else if(oe(T)){let D={};for(const z in T){if(!_e(D)&&!s)break;const I=Mt(await T[z](m,r),k,z);I&&(D={...I,...R(z,I.message)},$(I.message),s&&(w[M]=D))}if(!_e(D)&&(w[M]={ref:k,...D},!s))return w}}return $(!0),w};const Yr={mode:Ce.onSubmit,reValidateMode:Ce.onChange,shouldFocusError:!0};function Xr(e={}){let t={...Yr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:we(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=oe(t.defaultValues)||oe(t.values)?ae(t.defaultValues||t.values)||{}:{},n=t.shouldUnregister?{}:ae(a),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},j,b=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...p};let N={...h};const _={array:Nt(),state:Nt()},T=t.criteriaMode===Ce.all,M=o=>c=>{clearTimeout(b),b=setTimeout(o,c)},L=async o=>{if(!l.keepIsValid&&!t.disabled&&(h.isValid||N.isValid||o)){let c;t.resolver?(c=_e((await W()).errors),q()):c=await R(s,!0),c!==r.isValid&&_.state.next({isValid:c})}},q=(o,c)=>{!t.disabled&&(h.isValidating||h.validatingFields||N.isValidating||N.validatingFields)&&((o||Array.from(d.mount)).forEach(u=>{u&&(c?ee(r.validatingFields,u,c):ie(r.validatingFields,u))}),_.state.next({validatingFields:r.validatingFields,isValidating:!_e(r.validatingFields)}))},m=(o,c=[],u,y,x=!0,g=!0)=>{if(y&&u&&!t.disabled){if(l.action=!0,g&&Array.isArray(S(s,o))){const E=u(S(s,o),y.argA,y.argB);x&&ee(s,o,E)}if(g&&Array.isArray(S(r.errors,o))){const E=u(S(r.errors,o),y.argA,y.argB);x&&ee(r.errors,o,E),Hr(r.errors,o)}if((h.touchedFields||N.touchedFields)&&g&&Array.isArray(S(r.touchedFields,o))){const E=u(S(r.touchedFields,o),y.argA,y.argB);x&&ee(r.touchedFields,o,E)}(h.dirtyFields||N.dirtyFields)&&(r.dirtyFields=Ve(a,n)),_.state.next({name:o,isDirty:D(o,c),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ee(n,o,c)},k=(o,c)=>{ee(r.errors,o,c),_.state.next({errors:r.errors})},$=o=>{r.errors=o,_.state.next({errors:r.errors,isValid:!1})},w=(o,c,u,y)=>{const x=S(s,o);if(x){const g=S(n,o,re(u)?S(a,o):u);re(g)||y&&y.defaultChecked||c?ee(n,o,c?g:Ft(x._f)):H(o,g),l.mount&&!l.action&&L()}},P=(o,c,u,y,x)=>{let g=!1,E=!1;const K={name:o};if(!t.disabled){if(!u||y){(h.isDirty||N.isDirty)&&(E=r.isDirty,r.isDirty=K.isDirty=D(),g=E!==K.isDirty);const Y=Se(S(a,o),c);E=!!S(r.dirtyFields,o),Y?ie(r.dirtyFields,o):ee(r.dirtyFields,o,!0),K.dirtyFields=r.dirtyFields,g=g||(h.dirtyFields||N.dirtyFields)&&E!==!Y}if(u){const Y=S(r.touchedFields,o);Y||(ee(r.touchedFields,o,u),K.touchedFields=r.touchedFields,g=g||(h.touchedFields||N.touchedFields)&&Y!==u)}g&&x&&_.state.next(K)}return g?K:{}},G=(o,c,u,y)=>{const x=S(r.errors,o),g=(h.isValid||N.isValid)&&ye(c)&&r.isValid!==c;if(t.delayError&&u?(j=M(()=>k(o,u)),j(t.delayError)):(clearTimeout(b),j=null,u?ee(r.errors,o,u):ie(r.errors,o)),(u?!Se(x,u):x)||!_e(y)||g){const E={...y,...g&&ye(c)?{isValid:c}:{},errors:r.errors,name:o};r={...r,...E},_.state.next(E)}},W=async o=>(q(o,!0),await t.resolver(n,t.context,Gr(o||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation))),X=async o=>{const{errors:c}=await W(o);if(q(o),o)for(const u of o){const y=S(c,u);y?ee(r.errors,u,y):ie(r.errors,u)}else r.errors=c;return c},R=async(o,c,u={valid:!0})=>{for(const y in o){const x=o[y];if(x){const{_f:g,...E}=x;if(g){const K=d.array.has(g.name),Y=x._f&&Rr(x._f);Y&&h.validatingFields&&q([g.name],!0);const ue=await Ot(x,d.disabled,n,T,t.shouldUseNativeValidation&&!c,K);if(Y&&h.validatingFields&&q([g.name]),ue[g.name]&&(u.valid=!1,c||e.shouldUseNativeValidation))break;!c&&(S(ue,g.name)?K?Kr(r.errors,ue,g.name):ee(r.errors,g.name,ue[g.name]):ie(r.errors,g.name))}!_e(E)&&await R(E,c,u)}}return u.valid},J=()=>{for(const o of d.unMount){const c=S(s,o);c&&(c._f.refs?c._f.refs.every(u=>!et(u)):!et(c._f.ref))&&Ye(o)}d.unMount=new Set},D=(o,c)=>!t.disabled&&(o&&c&&ee(n,o,c),!Se(Z(),a)),z=(o,c,u)=>Mr(o,d,{...l.mount?n:re(c)?a:pe(o)?{[o]:c}:c},u,c),I=o=>nt(S(l.mount?n:a,o,t.shouldUnregister?S(a,o,[]):[])),H=(o,c,u={})=>{const y=S(s,o);let x=c;if(y){const g=y._f;g&&(!g.disabled&&ee(n,o,tr(c,g)),x=Be(g.ref)&&ge(c)?"":c,Jt(g.ref)?[...g.ref.options].forEach(E=>E.selected=x.includes(E.value)):g.refs?Ie(g.ref)?g.refs.forEach(E=>{(!E.defaultChecked||!E.disabled)&&(Array.isArray(x)?E.checked=!!x.find(K=>K===E.value):E.checked=x===E.value||!!x)}):g.refs.forEach(E=>E.checked=E.value===x):at(g.ref)?g.ref.value="":(g.ref.value=x,g.ref.type||_.state.next({name:o,values:ae(n)})))}(u.shouldDirty||u.shouldTouch)&&P(o,x,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&A(o)},B=(o,c,u)=>{for(const y in c){if(!c.hasOwnProperty(y))return;const x=c[y],g=o+"."+y,E=S(s,g);(d.array.has(o)||oe(x)||E&&!E._f)&&!Fe(x)?B(g,x,u):H(g,x,u)}},U=(o,c,u={})=>{const y=S(s,o),x=d.array.has(o),g=ae(c);ee(n,o,g),x?(_.array.next({name:o,values:ae(n)}),(h.isDirty||h.dirtyFields||N.isDirty||N.dirtyFields)&&u.shouldDirty&&_.state.next({name:o,dirtyFields:Ve(a,n),isDirty:D(o,g)})):y&&!y._f&&!ge(g)?B(o,g,u):H(o,g,u),zt(o,d)?_.state.next({...r,name:o,values:ae(n)}):_.state.next({name:l.mount?o:void 0,values:ae(n)})},se=async o=>{l.mount=!0;const c=o.target;let u=c.name,y=!0;const x=S(s,u),g=Y=>{y=Number.isNaN(Y)||Fe(Y)&&isNaN(Y.getTime())||Se(Y,S(n,u,Y))},E=Et(t.mode),K=Et(t.reValidateMode);if(x){let Y,ue;const De=c.type?Ft(x._f):kr(o),Ne=o.type===vt.BLUR||o.type===vt.FOCUS_OUT,pr=!Br(x._f)&&!t.resolver&&!S(r.errors,u)&&!x._f.deps||Wr(Ne,S(r.touchedFields,u),r.isSubmitted,K,E),Je=zt(u,d,Ne);ee(n,u,De),Ne?(!c||!c.readOnly)&&(x._f.onBlur&&x._f.onBlur(o),j&&j(0)):x._f.onChange&&x._f.onChange(o);const Qe=P(u,De,Ne),br=!_e(Qe)||Je;if(!Ne&&_.state.next({name:u,type:o.type,values:ae(n)}),pr)return(h.isValid||N.isValid)&&(t.mode==="onBlur"?Ne&&L():Ne||L()),br&&_.state.next({name:u,...Je?{}:Qe});if(!Ne&&Je&&_.state.next({...r}),t.resolver){const{errors:Ct}=await W([u]);if(q([u]),g(De),y){const wr=Tt(r.errors,s,u),yt=Tt(Ct,s,wr.name||u);Y=yt.error,u=yt.name,ue=_e(Ct)}}else q([u],!0),Y=(await Ot(x,d.disabled,n,T,t.shouldUseNativeValidation))[u],q([u]),g(De),y&&(Y?ue=!1:(h.isValid||N.isValid)&&(ue=await R(s,!0)));y&&(x._f.deps&&(!Array.isArray(x._f.deps)||x._f.deps.length>0)&&A(x._f.deps),G(u,ue,Y,Qe))}},ce=(o,c)=>{if(S(r.errors,c)&&o.focus)return o.focus(),1},A=async(o,c={})=>{let u,y;const x=Ae(o);if(t.resolver){const g=await X(re(o)?o:x);u=_e(g),y=o?!x.some(E=>S(g,E)):u}else o?(y=(await Promise.all(x.map(async g=>{const E=S(s,g);return await R(E&&E._f?{[g]:E}:E)}))).every(Boolean),!(!y&&!r.isValid)&&L()):y=u=await R(s);return _.state.next({...!pe(o)||(h.isValid||N.isValid)&&u!==r.isValid?{}:{name:o},...t.resolver||!o?{isValid:u}:{},errors:r.errors}),c.shouldFocus&&!y&&Le(s,ce,o?x:d.mount),y},Z=(o,c)=>{let u={...l.mount?n:a};return c&&(u=Zt(c.dirtyFields?r.dirtyFields:r.touchedFields,u)),re(o)?u:pe(o)?S(u,o):o.map(y=>S(u,y))},he=(o,c)=>({invalid:!!S((c||r).errors,o),isDirty:!!S((c||r).dirtyFields,o),error:S((c||r).errors,o),isValidating:!!S(r.validatingFields,o),isTouched:!!S((c||r).touchedFields,o)}),Ge=o=>{o&&Ae(o).forEach(c=>ie(r.errors,c)),_.state.next({errors:o?r.errors:{}})},mt=(o,c,u)=>{const y=(S(s,o,{_f:{}})._f||{}).ref,x=S(r.errors,o)||{},{ref:g,message:E,type:K,...Y}=x;ee(r.errors,o,{...Y,...c,ref:y}),_.state.next({name:o,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},fr=(o,c)=>we(o)?_.state.subscribe({next:u=>"values"in u&&o(z(void 0,c),u)}):z(o,c,!0),gt=o=>_.state.subscribe({next:c=>{qr(o.name,c.name,o.exact)&&Ur(c,o.formState||h,xr,o.reRenderRoot)&&o.callback({values:{...n},...r,...c,defaultValues:a})}}).unsubscribe,_r=o=>(l.mount=!0,N={...N,...o.formState},gt({...o,formState:{...p,...o.formState}})),Ye=(o,c={})=>{for(const u of o?Ae(o):d.mount)d.mount.delete(u),d.array.delete(u),c.keepValue||(ie(s,u),ie(n,u)),!c.keepError&&ie(r.errors,u),!c.keepDirty&&ie(r.dirtyFields,u),!c.keepTouched&&ie(r.touchedFields,u),!c.keepIsValidating&&ie(r.validatingFields,u),!t.shouldUnregister&&!c.keepDefaultValue&&ie(a,u);_.state.next({values:ae(n)}),_.state.next({...r,...c.keepDirty?{isDirty:D()}:{}}),!c.keepIsValid&&L()},ht=({disabled:o,name:c})=>{if(ye(o)&&l.mount||o||d.disabled.has(c)){const x=d.disabled.has(c)!==!!o;o?d.disabled.add(c):d.disabled.delete(c),x&&l.mount&&!l.action&&L()}},Xe=(o,c={})=>{let u=S(s,o);const y=ye(c.disabled)||ye(t.disabled);return ee(s,o,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:o}},name:o,mount:!0,...c}}),d.mount.add(o),u?ht({disabled:ye(c.disabled)?c.disabled:t.disabled,name:o}):w(o,!0,c.value),{...y?{disabled:c.disabled||t.disabled}:{},...t.progressive?{required:!!c.required,min:Me(c.min),max:Me(c.max),minLength:Me(c.minLength),maxLength:Me(c.maxLength),pattern:Me(c.pattern)}:{},name:o,onChange:se,onBlur:se,ref:x=>{if(x){Xe(o,c),u=S(s,o);const g=re(x.value)&&x.querySelectorAll&&x.querySelectorAll("input,select,textarea")[0]||x,E=Ar(g),K=u._f.refs||[];if(E?K.find(Y=>Y===g):g===u._f.ref)return;ee(s,o,{_f:{...u._f,...E?{refs:[...K.filter(et),g,...Array.isArray(S(a,o))?[{}]:[]],ref:{type:g.type,name:o}}:{ref:g}}}),w(o,!1,void 0,g)}else u=S(s,o,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||c.shouldUnregister)&&!(Fr(d.array,o)&&l.action)&&d.unMount.add(o)}}},Ze=()=>t.shouldFocusError&&Le(s,ce,d.mount),mr=o=>{ye(o)&&(_.state.next({disabled:o}),Le(s,(c,u)=>{const y=S(s,u);y&&(c.disabled=y._f.disabled||o,Array.isArray(y._f.refs)&&y._f.refs.forEach(x=>{x.disabled=y._f.disabled||o}))},0,!1))},xt=(o,c)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let x=ae(n);if(_.state.next({isSubmitting:!0}),t.resolver){const{errors:g,values:E}=await W();q(),r.errors=g,x=ae(E)}else await R(s);if(d.disabled.size)for(const g of d.disabled)ie(x,g);if(ie(r.errors,"root"),_e(r.errors)){_.state.next({errors:{}});try{await o(x,u)}catch(g){y=g}}else c&&await c({...r.errors},u),Ze(),setTimeout(Ze);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_e(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},gr=(o,c={})=>{S(s,o)&&(re(c.defaultValue)?U(o,ae(S(a,o))):(U(o,c.defaultValue),ee(a,o,ae(c.defaultValue))),c.keepTouched||ie(r.touchedFields,o),c.keepDirty||(ie(r.dirtyFields,o),r.isDirty=c.defaultValue?D(o,ae(S(a,o))):D()),c.keepError||(ie(r.errors,o),h.isValid&&L()),_.state.next({...r}))},pt=(o,c={})=>{const u=o?ae(o):a,y=ae(u),x=_e(o),g=x?a:y;if(c.keepDefaultValues||(a=u),!c.keepValues){if(c.keepDirtyValues){const E=new Set([...d.mount,...Object.keys(Ve(a,n))]);for(const K of Array.from(E)){const Y=S(r.dirtyFields,K),ue=S(n,K),De=S(g,K);Y&&!re(ue)?ee(g,K,ue):!Y&&!re(De)&&U(K,De)}}else{if(it&&re(o))for(const E of d.mount){const K=S(s,E);if(K&&K._f){const Y=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(Be(Y)){const ue=Y.closest("form");if(ue){ue.reset();break}}}}if(c.keepFieldsRef)for(const E of d.mount)U(E,S(g,E));else s={}}n=t.shouldUnregister?c.keepDefaultValues?ae(a):{}:ae(g),_.array.next({values:{...g}}),_.state.next({values:{...g}})}d={mount:c.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!c.keepIsValid||!!c.keepDirtyValues||!t.shouldUnregister&&!_e(g),l.watch=!!t.shouldUnregister,l.keepIsValid=!!c.keepIsValid,l.action=!1,c.keepErrors||(r.errors={}),_.state.next({submitCount:c.keepSubmitCount?r.submitCount:0,isDirty:x?!1:c.keepDirty?r.isDirty:!!(c.keepDefaultValues&&!Se(o,a)),isSubmitted:c.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:x?{}:c.keepDirtyValues?c.keepDefaultValues&&n?Ve(a,n):r.dirtyFields:c.keepDefaultValues&&o?Ve(a,o):c.keepDirty?r.dirtyFields:{},touchedFields:c.keepTouched?r.touchedFields:{},errors:c.keepErrors?r.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},bt=(o,c)=>pt(we(o)?o(n):o,{...t.resetOptions,...c}),hr=(o,c={})=>{const u=S(s,o),y=u&&u._f;if(y){const x=y.refs?y.refs[0]:y.ref;x.focus&&setTimeout(()=>{x.focus(),c.shouldSelect&&we(x.select)&&x.select()})}},xr=o=>{r={...r,...o}},wt={control:{register:Xe,unregister:Ye,getFieldState:he,handleSubmit:xt,setError:mt,_subscribe:gt,_runSchema:W,_updateIsValidating:q,_focusError:Ze,_getWatch:z,_getDirty:D,_setValid:L,_setFieldArray:m,_setDisabledField:ht,_setErrors:$,_getFieldArray:I,_reset:pt,_resetDefaultValues:()=>we(t.defaultValues)&&t.defaultValues().then(o=>{bt(o,t.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:J,_disableForm:mr,_subjects:_,_proxyFormState:h,get _fields(){return s},get _formValues(){return n},get _state(){return l},set _state(o){l=o},get _defaultValues(){return a},get _names(){return d},set _names(o){d=o},get _formState(){return r},get _options(){return t},set _options(o){t={...t,...o}}},subscribe:_r,trigger:A,register:Xe,handleSubmit:xt,watch:fr,setValue:U,getValues:Z,reset:bt,resetField:gr,clearErrors:Ge,unregister:Ye,setError:mt,setFocus:hr,getFieldState:he};return{...wt,formControl:wt}}function ct(e={}){const t=fe.useRef(void 0),r=fe.useRef(void 0),[s,a]=fe.useState({isDirty:!1,isValidating:!1,isLoading:we(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:we(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!we(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...d}=Xr(e);t.current={...d,formState:s}}const n=t.current.control;return n._options=e,Tr(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>a({...n._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),n._formState.isReady=!0,l},[n]),fe.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),fe.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),fe.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),fe.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),fe.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==s.isDirty&&n._subjects.state.next({isDirty:l})}},[n,s.isDirty]),fe.useEffect(()=>{var l;e.values&&!Se(e.values,r.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((l=n._options.resetOptions)===null||l===void 0)&&l.keepIsValid||n._setValid(),r.current=e.values,a(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),fe.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),t.current.formState=fe.useMemo(()=>zr(s,n),[n,s]),t.current}const Zr="_OpeningCard_3pcf8_1",Jr="_active_3pcf8_14",Qr="_arrow_3pcf8_18",es="_additional_3pcf8_25",Oe={OpeningCard:Zr,active:Jr,arrow:Qr,additional:es},ts="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='64px'%20height='64px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M0.256%2023.481c0%200.269%200.106%200.544%200.313%200.75%200.412%200.413%201.087%200.413%201.5%200l14.119-14.119%2013.913%2013.912c0.413%200.413%201.087%200.413%201.5%200s0.413-1.087%200-1.5l-14.663-14.669c-0.413-0.412-1.088-0.412-1.5%200l-14.869%2014.869c-0.213%200.212-0.313%200.481-0.313%200.756z'/%3e%3c/g%3e%3c/svg%3e",rs="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23131313'%20width='64px'%20height='64px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23131313'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M0.256%208.606c0-0.269%200.106-0.544%200.313-0.75%200.412-0.412%201.087-0.412%201.5%200l14.119%2014.119%2013.913-13.912c0.413-0.412%201.087-0.412%201.5%200s0.413%201.088%200%201.5l-14.663%2014.669c-0.413%200.413-1.088%200.413-1.5%200l-14.869-14.869c-0.213-0.213-0.313-0.481-0.313-0.756z'/%3e%3c/g%3e%3c/svg%3e",ss="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20width='64px'%20height='64px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M0.256%2023.481c0%200.269%200.106%200.544%200.313%200.75%200.412%200.413%201.087%200.413%201.5%200l14.119-14.119%2013.913%2013.912c0.413%200.413%201.087%200.413%201.5%200s0.413-1.087%200-1.5l-14.663-14.669c-0.413-0.412-1.088-0.412-1.5%200l-14.869%2014.869c-0.213%200.212-0.313%200.481-0.313%200.756z'/%3e%3c/g%3e%3c/svg%3e",is="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M0.256%208.606c0-0.269%200.106-0.544%200.313-0.75%200.412-0.412%201.087-0.412%201.5%200l14.119%2014.119%2013.913-13.912c0.413-0.412%201.087-0.412%201.5%200s0.413%201.088%200%201.5l-14.663%2014.669c-0.413%200.413-1.088%200.413-1.5%200l-14.869-14.869c-0.213-0.213-0.313-0.481-0.313-0.756z'/%3e%3c/g%3e%3c/svg%3e",sr=C.memo(e=>{const{className:t,mainContent:r,additionalContent:s,opened:a}=e,[n,l]=C.useState(a),{isLightTheme:d}=Kt(),j=C.useCallback(b=>{b.preventDefault(),l(!n)},[n]);return i.jsxs("div",{className:de(Oe.OpeningCard,{},[t]),children:[i.jsxs("details",{open:n,children:[i.jsx("summary",{className:de(Oe.main,{[Oe.active]:!!s}),onClick:j,children:r}),s&&i.jsx("div",{className:Oe.additional,children:s})]}),i.jsx("img",{src:!n&&d?rs:n&&d?ts:!n&&!d?is:ss,className:Oe.arrow,onClick:j})]})}),ns=C.memo(e=>{const{className:t,result:r}=e;return i.jsxs(F,{className:de("",{},[t]),gap:"32",max:!0,children:[i.jsxs(F,{gap:"8",max:!0,children:[i.jsx(v,{title:"Данные по операциям",size:"size_l"}),i.jsx(v,{text:"Полный расчет, а также генерация Excel-отчета",theme:"secondary",size:"size_s"})]}),i.jsx(F,{max:!0,gap:"16",children:r.map((s,a)=>i.jsx(sr,{mainContent:i.jsx(v,{title:`Операция №${a+1} ${a===0?"(свертка)":""}`,size:"size_s"}),additionalContent:i.jsx(v,{textPre:!0,text:`1. Размеры полуфабриката:
Средний диаметр заготовки в верх. расчетном сечении: ${s.median_diameter_us} мм
Наружный диаметр: ${s.outside_diameter} мм
Внутренний диаметр заготовки в верх. сечении: ${s.inside_diameter_us} мм
Внутренний диаметр заготовки в нижн. сечении: ${s.inside_diameter_ls} мм
Толщина стенки в верх. сечении: ${s.wall_thin_us} мм
Толщина стенки в нижн. сечении: ${s.wall_thin_ls} мм
Высота полуфабриката: ${s.height} мм
Высота сферической части: ${s.sphere_part_height} мм
Радиус вытяжной кромки матрицы: ${s.matrix_radius} мм
Радиус сопряжения внутрн. поверхностей: ${s.radius} мм
Толщина дна заготовки: ${s.bottom_thin} мм
Расстояние верх. сечения от внутр. поверхности дна: ${s.distance_us_us} мм
Расстояние нижн. сечения от внутр. поверхности дна: ${s.distance_ls_us} мм
Отн. изменение площади поперечного сечения в верх. сечении: ${s.area_changes_us}

2. Исполнительные размеры инструмента:
Исполнительные размеры матрицы: ${s.executive_dimensions_matrix} мм
Исполнительные размеры пуансона (верх): ${s.executive_dimensions_hob_us} мм
Исполнительные размеры пуансона (низ): ${s.executive_dimensions_hob_ls} мм

3. Показатели степени деформации: 
Упругая разгрузка ${s.elastic_unloading}
Упругая деформация матрицы: ${s.elastic_deformation_matrix}
Суммарная упругая деформация и разгрузка: ${s.total_elastic_deform_unload}
Степень деформации (верх): ${s.degree_deformation_us}
Степень деформации (низ): ${s.degree_deformation_ls}

4. Технологические усилия:
Удельное усилие: ${s.specific_force} МПа
Площадь нижнего расчетного сечения пуансона: ${s.lower_area_hub} мм2
Сила деформирования: ${s.deformation_power} кН
Величина усилия снятия заготовки с пуансона: ${s.amount_of_effort_hub} кгс/мм2
								`,size:"size_s"})},`operation-${a}`))})]})}),O={required:"Поле является обязательным",pattern:{value:/^-?\d*\.?\d+$/,message:"Введите корректное число"}};var f=2;const qe=(e,t=f)=>{if(e.length===0)return 1;let r=1;for(let s=0;s<e.length;s++)r*=e[s];return Number(r.toFixed(t))},He=e=>e<=3?-.006:e>3&&e<=6?-.008:e>6&&e<=10?-.009:e>10&&e<=18?-.011:e>18&&e<=30?-.013:e>30&&e<=50||e>50&&e<=80?-.016:e>80&&e<=120?-.022:e>120&&e<=180?-.025:e>180&&e<=250?-.029:e>250&&e<=315?-.032:e>315&&e<=400?-.036:(e>400&&e<=500,-.04);function $t(e,t){if(!Array.isArray(e))throw new Error("Входные данные должны быть массивом");if(e.length<2)throw new Error("Массив должен содержать минимум 2 элемента");for(let r=0;r<e.length-1;r++)for(let s=r+1;s<e.length;s++){const a=e.reduce((b,p,h)=>h!==r&&h!==s?b*p:b,1),n=t/a,l=r===0?0:e[r-1],d=s===r+1&&e[s+1]||1,j=1e-4;for(let b=l+j;b<d;b+=j){const p=n/b;if(p>b&&p>e[s-1]&&(s===e.length-1||p<e[s+1])&&p<1){const h=[...e];h[r]=parseFloat(b.toFixed(4)),h[s]=parseFloat(p.toFixed(4));let N=!0;for(let _=1;_<h.length;_++)if(h[_]<=h[_-1]){N=!1;break}if(N&&Math.abs(h.reduce((_,T)=>_*T,1)-t)<1e-4)return h}}}return null}const ir=e=>Number((e*9.803922).toFixed(f)),je=e=>Number((e*101.97).toFixed(0)),os=e=>Number((e/1e3).toFixed(f)),as=e=>{const{fin_diameter:t,init_diameter:r,wall_thickness_down:s,wall_thickness_us:a,coefficient_of_stock:n,max_pull_first_op:l,max_thin_first_op:d,max_pull_subsequent_op:j,max_thin_subsequent_op:b}=e,p={sumDrowingCoeff:0,sumThinCoeff:0,drowingCoeff:[],thinCoeff:[],operationsCount:0},h=Number((t/r).toFixed(f)),N=Number((a/s).toFixed(f));p.sumDrowingCoeff=h,p.sumThinCoeff=N,console.log("-----------------------------------------------"),console.log("Сумм. коэф. вытяжки: ",h,`
Сумм. коэф. утонения: `,N),console.log("-----------------------------------------------");const _=Number((n*l).toFixed(f)),T=Number((n*d).toFixed(f));if(console.log("Подсчет для первой операции"),console.log("K*mdпред = ",_),console.log("К*msпред = ",T),console.log("-----------------------------------------------"),h>=_&&N>=T)return p.drowingCoeff.push(_),p.thinCoeff.push(T),p.operationsCount+=1,p;p.operationsCount+=1;var M=Number((n*j).toFixed(f)),L=Number((n*b).toFixed(f));p.drowingCoeff.push(_),p.thinCoeff.push(T),console.log("Подсчет операции свертки"),console.log("Коэф. вытяжки для оп. свертки mdсв = ",_),console.log("Коэф. утон. для оп. свертки msсв = ",T),console.log("-----------------------------------------------");const q=Number((h/_).toFixed(f)),m=Number((N/T).toFixed(f));console.log("Подсчет коэф. для 1-ой вытяжки mdi: ",q),console.log("Подсчет коэф. для 1-ой вытяжки msi: ",m),console.log("-----------------------------------------------");for(var k,$,w=0;w<100;w++){if(k=Number(Math.pow(q,1/(w+1)).toFixed(f)),$=Number(Math.pow(m,1/(w+1)).toFixed(f)),k>=M&&$>=L)return p.drowingCoeff.push(k),p.thinCoeff.push($),p.operationsCount+=1,p;p.drowingCoeff.push(k),p.thinCoeff.push($),p.operationsCount+=1}return p},ls=(e,t,r)=>{const{sumDrowingCoeff:s,sumThinCoeff:a,drowingCoeff:n,thinCoeff:l,operationsCount:d}=e;console.log("Коэф. вытяжки до балансировки: ",n),console.log("Коэф. утонения до балансировки: ",l),console.log("-----------------------------------------------"),console.log("Суммарный коэф. вытяжки = ",s),console.log("Суммарный коэф. утонения = ",a),console.log("Предельный для вытяжки: ",t),console.log("Предельный для утонения: ",r);const j=[...n],b=[...l],p=qe(n),h=qe(l);if(p===t&&h===r||n.length===1||l.length===1)return e;if(n[0]>t||(n[0]=t+.01),l[0]>r?l[0]>.5&&(l[0]=.56):n[0]=r+.01,n[1]=t+.01,l[1]=r+.01,!(n[1]>n[0])){const M=Number((n[0]-n[1]+n[1]+.01).toFixed(f));n[1]=M}if(!(l[1]>l[0])){const M=Number((l[0]-l[1]+l[1]+.01).toFixed(f));l[1]=M}if(d===2){const M=t+.1,L=r+.1;return n[0]=M,n[1]=Number((s/M).toFixed(f)),l[0]=L,l[1]=Number((a/L).toFixed(f)),{sumDrowingCoeff:s,sumThinCoeff:a,drowingCoeffArr:n,thinCoeffArr:l,operationsCount:d}}for(var N=2;N<d;N++)n[N]=Number((n[N-1]+.01).toFixed(f));const _=$t(n,e.sumDrowingCoeff),T=$t(l,e.sumThinCoeff);_?e.drowingCoeff=_:e.drowingCoeff=j,T?e.thinCoeff=T:e.thinCoeff=b,console.log("-----------------------------------------------"),console.log("Коэф. вытяжки после балансировки: ",_),console.log("Коэф. утонения после балансировки: ",l)},cs=e=>{const t=as(e);return ls(t,Number(e.max_pull_subsequent_op),Number(e.max_thin_subsequent_op)),t},At=e=>{const t=He(e),r=-t*.5;return Number((e+r-e*.01+t).toFixed(f))},ds=(e,t)=>{const r=[],s=Number((e.init_diameter*t.drowingCoeff[0]).toFixed(f)),a=Number((e.wall_thickness_us*t.thinCoeff[0]).toFixed(f)),n=Number((s+a).toFixed(f)),l=Number((1-t.drowingCoeff[0]*t.thinCoeff[0]).toFixed(f)),d=Number((s-a).toFixed(f)),j=1*e.wall_thickness_us,b=Number((j*(1-.017)).toFixed(f)),p=Number((b+(e.init_diameter*e.init_diameter-n*n)*e.wall_thickness_us/(4*s*a)).toFixed(f)),h=Number((d-2*.017*(p-b)).toFixed(f)),N=Number(((n-h)/2).toFixed(f)),_=1*e.wall_thickness_us,T=Number(((n+j)/6).toFixed(f)),M=2*e.wall_thickness_us,L=_+p;r.push({median_diameter_us:s,wall_thin_us:a,outside_diameter:n,area_changes_us:l,inside_diameter_us:d,radius:j,distance_ls_us:b,distance_us_us:p,inside_diameter_ls:h,wall_thin_ls:N,bottom_thin:_,sphere_part_height:T,matrix_radius:M,height:L,executive_dimensions_matrix:0,elastic_unloading:0,total_elastic_deform_unload:0,elastic_deformation_matrix:0,executive_dimensions_hob_us:0,executive_dimensions_hob_ls:0,degree_deformation_us:0,degree_deformation_ls:0,amount_of_effort_hub:0,deformation_power:0,lower_area_hub:0,specific_force:0});const q=Number(((r[0].radius-e.rounding_radius)/(t.operationsCount-1)).toFixed(f));for(let k=1;k<t.operationsCount;k++){const $=Number((t.drowingCoeff[k]*r[k-1].median_diameter_us).toFixed(f)),w=Number((t.thinCoeff[k]*r[k-1].wall_thin_us).toFixed(f)),P=Number(($+w).toFixed(f)),G=Number((1-t.drowingCoeff[k]*t.thinCoeff[k]).toFixed(f)),W=Number((P-2*w).toFixed(f)),X=Number((r[k-1].radius-q).toFixed(f)),R=Number((X*(1-.017)).toFixed(f)),J=Number((R+(r[k-1].outside_diameter*r[k-1].outside_diameter-P*P)*w/(4*$*w)).toFixed(f)),D=Number((W-2*.017*(J-R)).toFixed(f)),z=Number(((P-D)/2).toFixed(f)),I=1*_,H=Number(((P+X)/6).toFixed(f)),B=2*w;r[k]={median_diameter_us:$,wall_thin_us:w,outside_diameter:P,area_changes_us:G,inside_diameter_us:W,radius:X,distance_ls_us:R,distance_us_us:J,inside_diameter_ls:D,wall_thin_ls:z,bottom_thin:I,sphere_part_height:H,matrix_radius:B,height:0,executive_dimensions_matrix:0,elastic_unloading:0,elastic_deformation_matrix:0,total_elastic_deform_unload:0,executive_dimensions_hob_us:0,executive_dimensions_hob_ls:0,degree_deformation_ls:0,degree_deformation_us:0,amount_of_effort_hub:0,deformation_power:0,lower_area_hub:0,specific_force:0}}for(var m=t.operationsCount-1;m>0;m--)if(m!==t.operationsCount-1){const k=Number((r[m].bottom_thin+r[m].distance_us_us+(r[m+1].height-r[m+1].distance_us_us-r[m+1].bottom_thin)*(t.drowingCoeff[m+1]*t.thinCoeff[m+1])).toFixed(f));r[m]={...r[m],height:Number(k)}}else r[m]={...r[m],height:Number(e.fin_height)};for(var m=0;m<t.operationsCount;m++){const $=.006*((r[m].wall_thin_us+r[m].wall_thin_ls)/2),w=Number((.02*r[m].outside_diameter).toFixed(f)),P=Number((r[m].outside_diameter-(w+$)-He(r[m].outside_diameter)).toFixed(f)),G=Number((w+$).toFixed(f)),W=At(Number((r[m].outside_diameter-2*r[m].wall_thin_us).toFixed(f))),X=At(Number((r[m].outside_diameter-2*r[m].wall_thin_ls).toFixed(f))),R=Number((2/Math.pow(3,1/2)*Math.log(1/(t.drowingCoeff[m]*t.thinCoeff[m]))).toFixed(f)),J=Number((2/Math.pow(3,1/2)*Math.log(1/(r[m].wall_thin_ls/e.wall_thickness_us)+t.drowingCoeff[m])).toFixed(f)),D=Number((Math.pow(3,1/2)/2*620*J*(2.2*Math.pow(.99-1,2)+.12/.02)).toFixed(f)),z=Number((3.14*Math.pow(r[m].outside_diameter-r[m].inside_diameter_ls,2)/4).toFixed(f)),I=os(D*z),H=Number((3.14*.65*.85*(1270/2)*r[0].wall_thin_us*(r[0].height-r[0].wall_thin_us)*.12).toFixed(f));r[m]={...r[m],elastic_unloading:$,elastic_deformation_matrix:w,executive_dimensions_matrix:P,total_elastic_deform_unload:G,executive_dimensions_hob_us:W,executive_dimensions_hob_ls:X,degree_deformation_us:R,degree_deformation_ls:J,specific_force:D,lower_area_hub:z,deformation_power:I,amount_of_effort_hub:H}}return r},us="_DrowingCountOperations_hw3g4_1",fs="_hint_hw3g4_11",Lt={DrowingCountOperations:us,hint:fs},_s="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='64px'%20width='64px'%20version='1.1'%20id='图层_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2040%2040'%20enable-background='new%200%200%2040%2040'%20xml:space='preserve'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20fill='%23131313'%20d='M20,23.5c-0.3,0-0.5-0.2-0.5-0.5v-3c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3%20C20.5,23.3,20.3,23.5,20,23.5z'/%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23131313'%20d='M20,17.5c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.1-0.2-0.1-0.4c0-0.1,0-0.3,0.1-0.4c0.2-0.2,0.5-0.2,0.7,0%20c0.1,0.1,0.2,0.2,0.2,0.4c0,0.1-0.1,0.3-0.1,0.3C20.3,17.4,20.1,17.5,20,17.5z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23131313'%20d='M25.3,27.5H14.8c-1.2,0-2.3-1-2.3-2.3V14.8c0-1.2,1-2.3,2.3-2.3h10.5c1.2,0,2.3,1,2.3,2.3v10.5%20C27.5,26.5,26.5,27.5,25.3,27.5z%20M14.8,13.5c-0.7,0-1.3,0.6-1.3,1.3v10.5c0,0.7,0.6,1.3,1.3,1.3h10.5c0.7,0,1.3-0.6,1.3-1.3V14.8%20c0-0.7-0.6-1.3-1.3-1.3H14.8z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ms="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='64px'%20width='64px'%20version='1.1'%20id='图层_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2040%2040'%20enable-background='new%200%200%2040%2040'%20xml:space='preserve'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20fill='%23ffffff'%20d='M20,23.5c-0.3,0-0.5-0.2-0.5-0.5v-3c0-0.3,0.2-0.5,0.5-0.5s0.5,0.2,0.5,0.5v3%20C20.5,23.3,20.3,23.5,20,23.5z'/%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23ffffff'%20d='M20,17.5c-0.1,0-0.3-0.1-0.4-0.1c-0.1-0.1-0.1-0.2-0.1-0.4c0-0.1,0-0.3,0.1-0.4c0.2-0.2,0.5-0.2,0.7,0%20c0.1,0.1,0.2,0.2,0.2,0.4c0,0.1-0.1,0.3-0.1,0.3C20.3,17.4,20.1,17.5,20,17.5z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cpath%20fill='%23ffffff'%20d='M25.3,27.5H14.8c-1.2,0-2.3-1-2.3-2.3V14.8c0-1.2,1-2.3,2.3-2.3h10.5c1.2,0,2.3,1,2.3,2.3v10.5%20C27.5,26.5,26.5,27.5,25.3,27.5z%20M14.8,13.5c-0.7,0-1.3,0.6-1.3,1.3v10.5c0,0.7,0.6,1.3,1.3,1.3h10.5c0.7,0,1.3-0.6,1.3-1.3V14.8%20c0-0.7-0.6-1.3-1.3-1.3H14.8z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function gs(e,t){const r=C.useRef();return C.useCallback((...s)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e(...s)},t)},[e,t])}const Pt=C.memo(({className:e,initialValue:t,inputIndex:r,onChange:s})=>{const[a,n]=C.useState(String(t)),l=gs(s,2e3),d=C.useCallback(j=>{(j===""||/^-?\d*\.?\d*$/.test(j))&&(n(j),l(Number(j),r??0))},[l,r]);return i.jsx(V,{className:e,onChange:d,value:String(a)})}),It="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='64px'%20height='64px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20fill='%2300ff04'%20d='M512%2064a448%20448%200%201%201%200%20896%20448%20448%200%200%201%200-896zm-55.808%20536.384-99.52-99.584a38.4%2038.4%200%201%200-54.336%2054.336l126.72%20126.72a38.272%2038.272%200%200%200%2054.336%200l262.4-262.464a38.4%2038.4%200%201%200-54.272-54.336L456.192%20600.384z'/%3e%3c/g%3e%3c/svg%3e",Gt="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='64px'%20height='64px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3ecross-circle%3c/title%3e%3cdesc%3eCreated%20with%20Sketch%20Beta.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20sketch:type='MSPage'%3e%3cg%20id='Icon-Set-Filled'%20sketch:type='MSLayerGroup'%20transform='translate(-570.000000,%20-1089.000000)'%20fill='%23ff0000'%3e%3cpath%20d='M591.657,1109.24%20C592.048,1109.63%20592.048,1110.27%20591.657,1110.66%20C591.267,1111.05%20590.633,1111.05%20590.242,1110.66%20L586.006,1106.42%20L581.74,1110.69%20C581.346,1111.08%20580.708,1111.08%20580.314,1110.69%20C579.921,1110.29%20579.921,1109.65%20580.314,1109.26%20L584.58,1104.99%20L580.344,1100.76%20C579.953,1100.37%20579.953,1099.73%20580.344,1099.34%20C580.733,1098.95%20581.367,1098.95%20581.758,1099.34%20L585.994,1103.58%20L590.292,1099.28%20C590.686,1098.89%20591.323,1098.89%20591.717,1099.28%20C592.11,1099.68%20592.11,1100.31%20591.717,1100.71%20L587.42,1105.01%20L591.657,1109.24%20L591.657,1109.24%20Z%20M586,1089%20C577.163,1089%20570,1096.16%20570,1105%20C570,1113.84%20577.163,1121%20586,1121%20C594.837,1121%20602,1113.84%20602,1105%20C602,1096.16%20594.837,1089%20586,1089%20L586,1089%20Z'%20id='cross-circle'%20sketch:type='MSShapeGroup'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",hs="_icon_jvztu_1",Rt={icon:hs},Bt=e=>{if(e.length===0||!e)return!0;for(let t=0;t<e.length-1;t++)if(e[t]>e[t+1])return!1;return!0},xs=C.memo(e=>{const{className:t,operationsResult:r,onSaveNewCoeffs:s,onStopEditCoeff:a}=e,n=JSON.parse(JSON.stringify(r)),[l,d]=C.useState(n.sumDrowingCoeff),[j,b]=C.useState(n.sumThinCoeff),[p,h]=C.useState(n.drowingCoeff),[N,_]=C.useState(n.thinCoeff),[T,M]=C.useState(!0),[L,q]=C.useState(!0),m=C.useCallback((w,P)=>{h(G=>{G[P]=w;const W=qe(G);return d(W),M(W===n.sumDrowingCoeff&&Bt(G)),G})},[n.sumDrowingCoeff]),k=C.useCallback((w,P)=>{_(G=>{G[P]=w;const W=qe(G);return b(W),q(W===n.sumThinCoeff&&Bt(G)),G})},[n.sumThinCoeff]),$=()=>{s==null||s({...n,drowingCoeff:p,thinCoeff:N})};return i.jsxs(F,{className:de("",{},[t]),gap:"16",children:[i.jsx(v,{title:"Ручной ввод коэффициентов",size:"size_s"}),i.jsxs(F,{gap:"8",children:[i.jsx(v,{title:"ВЫТЯЖКА",size:"size_sm",theme:"secondary"}),i.jsx(v,{text:`Текущее значение суммарного коэффициента = ${l}`,size:"size_s"}),i.jsxs(ze,{gap:"8",align:"center",children:[i.jsx("img",{src:T?It:Gt,className:Rt.icon}),n.drowingCoeff.map((w,P)=>i.jsx(i.Fragment,{children:i.jsx(Pt,{initialValue:w,inputIndex:P,onChange:m},`drow-edit-${P}`)}))]})]}),i.jsxs(F,{gap:"8",children:[i.jsx(v,{title:"УТОНЕНИЕ",size:"size_sm",theme:"secondary"}),i.jsx(v,{text:`Текущее значение суммарного коэффициента = ${j}`,size:"size_s"}),i.jsxs(ze,{gap:"8",align:"center",children:[i.jsx("img",{src:L?It:Gt,className:Rt.icon}),n.thinCoeff.map((w,P)=>i.jsx(Pt,{initialValue:w,inputIndex:P,onChange:k},`thin-edit-${P}`))]})]}),i.jsxs(ze,{gap:"12",children:[i.jsx(te,{onClick:$,disabled:!(T&&L),children:"Сохранить"}),i.jsx(te,{onClick:a,theme:"outline",children:"Отмена"})]})]})}),ps=C.memo(e=>{const{operationsResult:t,onChangeOperations:r,onCalculateDrowingOperationsData:s,className:a}=e,{isLightTheme:n}=Kt(),[l,d]=C.useState(!1),j=C.useCallback(()=>{d(!0)},[]),b=C.useCallback(()=>{d(!1)},[]),p=C.useCallback(h=>{r==null||r(h),b()},[r,b]);return i.jsxs(F,{className:de(Lt.DrowingCountOperations,{},[a]),max:!0,gap:"32",children:[i.jsx(v,{title:"Результат расчёта количества операций",size:"size_l"}),i.jsx(ne,{children:i.jsxs(F,{gap:"24",max:!0,children:[i.jsxs(F,{gap:"8",children:[i.jsx(v,{title:"Коэффициенты",size:"size_s"}),i.jsx(v,{textPre:!0,text:`Суммарный коэффициент вытяжки: ${t==null?void 0:t.sumDrowingCoeff}
Суммарный коэффициент утонения: ${t==null?void 0:t.sumThinCoeff}
Количество операций: ${t==null?void 0:t.operationsCount}`,size:"size_s"})]}),i.jsx(F,{gap:"8",children:l?i.jsx(xs,{operationsResult:t,onSaveNewCoeffs:p,onStopEditCoeff:b}):i.jsxs(F,{gap:"8",children:[i.jsxs(ze,{align:"center",children:[i.jsx(v,{title:"Были подобраны следующие коэфициенты по операциям",size:"size_s"}),i.jsx("img",{src:n?_s:ms,className:Lt.hint,title:"Коэффициенты расчитаны программно. Вы можете изменить их вручную"})]}),i.jsx(v,{textPre:!0,text:`Вытяжка: ${t.drowingCoeff.join(", ")}
Утонение: ${t.thinCoeff.join(", ")}`,size:"size_s"}),i.jsxs(ze,{gap:"12",children:[i.jsx(te,{onClick:s,children:"Произвести расчёт данных по операциям"}),i.jsx(te,{onClick:j,theme:"outline",children:"Редактировать коэффиценты"})]})]})})]})})]})}),bs="_SelectWrapper_1333d_1",ws="_label_1333d_5",Cs="_select_1333d_13",ys="_option_1333d_27",js="_readonly_1333d_34",$e={SelectWrapper:bs,label:ws,select:Cs,option:ys,readonly:js},vs=e=>{const{className:t,label:r,options:s,onChange:a,value:n,readonly:l}=e,d={},j=C.useMemo(()=>s==null?void 0:s.map(p=>i.jsx("option",{value:p.value,className:$e.option,children:p.content},p.value)),[s]),b=p=>{a==null||a(p.target.value)};return i.jsxs(F,{className:de($e.SelectWrapper,d,[t]),gap:"4",children:[r&&i.jsx("span",{className:$e.label,children:r}),i.jsx("select",{className:de($e.select,{},[l?$e.readonly:void 0]),value:n,onChange:b,disabled:l,children:j})]})},nr=C.memo(vs);var Q=(e=>(e.STEEL_10="Сталь 10 ГОСТ 1050-2013",e.STEEL_20="Сталь 20 ГОСТ 1050-2013",e.STEEL_30="Сталь 30 ГОСТ 1050-2013",e.BRASS_L_63="Латунь Л63 ГОСТ 15527-2004",e.BRASS_L_68="Латунь Л68 ГОСТ 15527-2004",e.COPPER_M_1="Медь М1 ГОСТ 859-2014",e.STAINLESS_STEEL_08="Нержавеющая сталь 08Х18Н10Т ГОСТ 1050-2013",e.ALUMINIUM_AMG_5="Алюминий АМг5 ГОСТ 4784-2019",e.ALUMINIUM_AMG_6="Алюминий АМг6 ГОСТ 4784-2019",e.OTHER="Другое",e))(Q||{});const Ut=[{content:Q.STEEL_10,value:Q.STEEL_10},{content:Q.STEEL_20,value:Q.STEEL_20},{content:Q.STEEL_30,value:Q.STEEL_30},{content:Q.STAINLESS_STEEL_08,value:Q.STAINLESS_STEEL_08},{content:Q.BRASS_L_63,value:Q.BRASS_L_63},{content:Q.BRASS_L_68,value:Q.BRASS_L_68},{content:Q.ALUMINIUM_AMG_5,value:Q.ALUMINIUM_AMG_5},{content:Q.ALUMINIUM_AMG_6,value:Q.ALUMINIUM_AMG_6},{content:Q.COPPER_M_1,value:Q.COPPER_M_1},{content:Q.OTHER,value:Q.OTHER}],dt=C.memo(e=>{const{className:t,defaultMaterial:r,onChangeMaterial:s,material:a}=e,[n,l]=C.useState(!1),[d,j]=C.useState(""),[b,p]=C.useState(r);C.useEffect(()=>{const _=Ut.find(T=>T.value===a);_?(l(!1),p(_.value)):(l(!0),p(Q.OTHER),j(a??""))},[a]);const h=C.useCallback(_=>{_!==Q.OTHER?(l(!1),s==null||s(_),j("")):(l(!0),s==null||s("")),p(_)},[s]),N=C.useCallback(_=>{s==null||s(_)},[s]);return i.jsxs(F,{className:t,gap:"12",max:!0,children:[i.jsx(nr,{label:"Материал",options:Ut,value:b,onChange:h}),n&&i.jsx(V,{placeholder:"Введите название материала",value:d,onChange:N})]})}),Te=()=>{const e=new Date,t=e.getDate(),r=e.getMonth()+1,s=e.getFullYear(),a=t<10?`0${t}`:t,n=r<10?`0${r}`:r;return`${a}.${n}.${s}`};var Ke=(e=>(e.RUN_PARSE_MODEL_VARIABLES_SCRIPT="run_parse_model_variables_script",e.OPEN_PARSE_MODEL_VARIABLES_GUIDE="open_parse_model_variables_guide",e.FELLING_EXCEL_REPORT="felling_excel_report",e.DROWING_EXCEL_REPORT="drowing_excel_report",e.CRIMPING_EXCEL_REPORT="crimping_excel_report",e.EXIT_APP="exit_app",e))(Ke||{});async function ui(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}function Ns(){return!!(globalThis||window).isTauri}function ut(){const[e,t]=C.useState(!1);return C.useEffect(()=>{(()=>{const s=Ns();t(!!s)})()},[]),{isDesktop:e}}const or=({children:e})=>{const{isDesktop:t}=ut();return t?e:null},Ss=C.lazy(()=>Yt(()=>import("./GenerateExcelReportContent-BALxNjFl.js"),__vite__mapDeps([0,1,2,3,4,5]))),ft=C.memo(e=>i.jsx(or,{children:i.jsx(Ss,{...e})})),_t=()=>{const e=new Date,t=10800*1e3,r=new Date(e.getTime()+t),s=r.getUTCHours(),a=r.getUTCMinutes(),n=r.getUTCSeconds(),l=s<10?`0${s}`:s,d=a<10?`0${a}`:a,j=n<10?`0${n}`:n;return`${l}:${d}:${j}`},ks=C.lazy(()=>Yt(()=>import("./ParseModelVariablesGuideContent-CtYnvFns.js"),__vite__mapDeps([6,1,2,4,5,3,7]))),ar=C.memo(e=>i.jsx(or,{children:i.jsx(ks,{...e})}));function lr(){const[e,t]=C.useState(""),r=C.useCallback(s=>{navigator.clipboard.writeText(s),t(s)},[]);return{copiedText:e,onCopyText:r}}const Ds="/assets/drowing-DkgcJGi5.jpg",Fs="_numeric_1d8lo_1",qt={numeric:Fs},le=C.memo(e=>{const{className:t,number:r=0,children:s}=e;return i.jsxs(ze,{className:de(qt.NumericContent,{},[t]),gap:"16",align:"center",children:[i.jsx("div",{className:qt.numeric,children:r}),s]})}),Es={init_diameter:160,fin_diameter:91.8,coefficient_of_stock:1.2,fin_volume:21e3,max_pull_first_op:.48,max_pull_subsequent_op:.79,max_thin_first_op:.7,max_thin_subsequent_op:.5,wall_thickness_ls:1,wall_thickness_us:.5,wall_thickness_down:1,rounding_radius:2,fin_height:100,coefficient_of_friction:1,material:Q.STEEL_10,operator_name:"Вася",organization_name:'"ЗАО" БЕЩЕКИ',detail_name:"Гильза мощная"},Vs=C.memo(({className:e})=>{var k,$,w,P,G,W,X,R,J,D,z,I,H,B,U,se,ce;const{register:t,handleSubmit:r,formState:{errors:s},setValue:a,getValues:n,watch:l}=ct({defaultValues:Es}),{onCopyText:d}=lr(),[j,b]=C.useState(),[p,h]=C.useState(),{isDesktop:N}=ut();let _=N?1:0;const T=C.useCallback(async A=>{let Z;for(Z in A)Z==="material"||Z==="organization_name"||Z==="operator_name"||(A[Z]=Number(A[Z]));const he=await cs(A);h(he)},[]),M=C.useCallback(async()=>{const A=n();if(A&&p){const Z=await ds(A,p);b(Z)}},[p,n]),L=C.useCallback(A=>{a("material",A)},[a]),q=C.useCallback(A=>{h(A),b(void 0)},[]),m=C.useCallback(A=>{a("material",A.data.modelParams.material),a("fin_volume",A.data.modelParams.volume),a("init_diameter",Number(Math.sqrt(4*A.data.modelParams.volume*1.15/(3.14*A.data.modelParams.variables.wall_thickness_down)).toFixed(0))),Object.entries(A.data.modelParams.variables).filter(([,Z])=>!!Z).map(([Z,he])=>{a(Z,he)})},[a]);return i.jsxs(F,{className:de(xe.TechnologistDetailDrowing,{},[e]),gap:"32",max:!0,children:[i.jsxs(F,{className:xe.header,gap:"8",max:!0,children:[i.jsx(v,{title:"Вытяжка с утонением стенки",size:"size_l"}),i.jsx(v,{text:"Работа с моделью КОМПАС 3D и расчет параметров",theme:"secondary",size:"size_s"})]}),i.jsx(ar,{className:xe.parser,onSetParsedValues:m,title:"Работа с моделью",description:"Для работы с моделью необходимо в программе КОМПАС 3D присвоить необходимым характерным размерам значения переменных, представленных ниже",sketchImg:Ds,variablesToParse:[["Конечный диаметр (фDн)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("fin_diameter"),children:i.jsx(v,{text:"fin_diameter",size:"size_s",align:"center"})},"fin_diameter")],["Толщина дна заготовки (Sдна)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("wall_thickness_down"),children:i.jsx(v,{text:"wall_thickness_down",size:"size_s",align:"center"})},"wall_thickness_down")],["Толщина стенки в нижнем сечении (Sн)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("wall_thickness_ls"),children:i.jsx(v,{text:"wall_thickness_ls",size:"size_s",align:"center"})},"wall_thickness_ls")],["Толщина стенки в верхнем сечении (Sв)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("wall_thickness_us"),children:i.jsx(v,{text:"wall_thickness_us",size:"size_s",align:"center"})},"wall_thickness_us")],["Высота на последней операции (H)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("fin_height"),children:i.jsx(v,{text:"fin_height",size:"size_s",align:"center"})},"fin_height")],["Радиус закругления (Rв)",i.jsx(te,{className:xe.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>d("rounding_radius"),children:i.jsx(v,{text:"rounding_radius",size:"size_s",align:"center"})},"rounding_radius")]]}),i.jsx("form",{className:xe.form,onSubmit:r(T),children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Данные организации",size:"size_s"})}),i.jsx(V,{label:"Ваше ФИО",register:{...t("operator_name",{required:"Поле является обязательным"})},error:(k=s.operator_name)==null?void 0:k.message}),i.jsx(V,{label:"Название организации",register:{...t("organization_name",{required:"Поле является обязательным"})},error:($=s.organization_name)==null?void 0:$.message}),i.jsx(V,{label:"Наименование обрабатываемой детали",register:{...t("detail_name",{required:"Поле является обязательным"})},error:(w=s.detail_name)==null?void 0:w.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Материал",size:"size_s"})}),i.jsx(dt,{material:l("material"),onChangeMaterial:L})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Геометрические параметры заготовки",size:"size_s"})}),i.jsx(V,{label:"Диаметр заготовки D0 (мм)",register:{...t("init_diameter",O)},error:(P=s.init_diameter)==null?void 0:P.message}),i.jsx(V,{label:"Диаметр полуфабриката фDн (мм)",register:{...t("fin_diameter",O)},error:(G=s.fin_diameter)==null?void 0:G.message}),i.jsx(V,{label:"Толщина дна заготовки Sдна (мм)",register:{...t("wall_thickness_down",O)},error:(W=s.wall_thickness_down)==null?void 0:W.message}),i.jsx(V,{label:"Толщина стенки в верхнем сечении Sв (мм)",register:{...t("wall_thickness_us",O)},error:(X=s.wall_thickness_us)==null?void 0:X.message}),i.jsx(V,{label:"Толщина стенки в нижнем сечении Sн (мм)",register:{...t("wall_thickness_ls",O)},error:(R=s.wall_thickness_ls)==null?void 0:R.message}),i.jsx(V,{label:"Высота изделия на последней операции Н (мм)",register:{...t("fin_height",O)},error:(J=s.fin_height)==null?void 0:J.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Доп. параметры",size:"size_s"})}),i.jsx(V,{label:"Коэффициент запаса",register:{...t("coefficient_of_stock",O)},error:(D=s.coefficient_of_stock)==null?void 0:D.message}),i.jsx(V,{label:"Коэффициент трения",register:{...t("coefficient_of_friction",O)},error:(z=s.coefficient_of_friction)==null?void 0:z.message}),i.jsx(V,{label:"Объем готового изделия (мм3)",register:{...t("fin_volume",O)},error:(I=s.fin_volume)==null?void 0:I.message}),i.jsx(V,{label:"Радиус закругления Rв (мм)",register:{...t("rounding_radius",O)},error:(H=s.rounding_radius)==null?void 0:H.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Предельный коэффициент вытяжки",size:"size_s"})}),i.jsx(V,{label:"На первой операции",register:{...t("max_pull_first_op",O)},error:(B=s.max_pull_first_op)==null?void 0:B.message}),i.jsx(V,{label:"На последующих операциях",register:{...t("max_pull_subsequent_op",O)},error:(U=s.max_pull_subsequent_op)==null?void 0:U.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(_+=1),children:i.jsx(v,{title:"Предельный коэффициент утонения",size:"size_s"})}),i.jsx(V,{label:"На первой операции",register:{...t("max_thin_first_op",O)},error:(se=s.max_thin_first_op)==null?void 0:se.message}),i.jsx(V,{label:"На последующих операциях",register:{...t("max_thin_subsequent_op",O)},error:(ce=s.max_thin_subsequent_op)==null?void 0:ce.message})]})}),i.jsx(te,{type:"submit",children:"Начать расчет"})]})}),p&&i.jsx(ps,{className:xe.result,operationsResult:p,onChangeOperations:q,onCalculateDrowingOperationsData:M}),j&&i.jsxs(F,{className:xe.resultWrap,gap:"16",max:!0,children:[i.jsx(ns,{className:xe.result,result:j}),i.jsx(ft,{generatedFunctionName:Ke.DROWING_EXCEL_REPORT,reportName:`Отчет о вытяжке_${Te()}`,data:{...p,drowingOperations:j.map(A=>({...A,height:Number(A.height)})),operatorName:n("operator_name"),organizationName:n("organization_name"),date:`${Te()}, ${_t()}`,detailName:n("detail_name"),coefficientOfFriction:Number(n("coefficient_of_friction")),coefficientOfStock:Number(n("coefficient_of_stock")),finVolume:Number(n("fin_volume")),initThin:Number(n("wall_thickness_down")),initDiameter:Number(n("init_diameter")),material:n("material"),max_pull_first_op:Number(n("max_pull_first_op")),max_pull_subsequent_op:Number(n("max_pull_subsequent_op")),max_thin_first_op:Number(n("max_thin_first_op")),max_thin_subsequent_op:Number(n("max_thin_subsequent_op"))}})]})]})}),zs="_header_sqlvy_5",Ts="_resultWrap_sqlvy_10",Ms="_form_sqlvy_15",Re={header:zs,resultWrap:Ts,form:Ms};var ke=(e=>(e.ONE_LINE="1",e.CHECKMATE="2",e))(ke||{});const Os=C.memo(e=>{const{className:t,result:r}=e;return i.jsxs(F,{className:de("",{},[t]),gap:"32",children:[i.jsxs(F,{gap:"8",max:!0,children:[i.jsx(v,{title:"Результат",size:"size_l"}),i.jsx(v,{text:"Полный расчет, а также генерация Excel-отчета",theme:"secondary",size:"size_s"})]}),i.jsx(v,{textPre:!0,size:"size_s",text:`1. Геометрич. параметры
Шаг раскроя: ${r==null?void 0:r.step} мм
Рекомендуемая ширина ленты: ${r==null?void 0:r.width} мм
Ширина листа: ${r==null?void 0:r.listWidth} мм
Размер боковой перемычки: ${r==null?void 0:r.bridge} мм
Размер внутренней перемычки: ${r==null?void 0:r.bridge_ins} мм
Периметр вырубаемой детали: ${r==null?void 0:r.perimeter} 
Коэфициент использования материала: ${r==null?void 0:r.using_koef} %

2. Тех. силы
Тех. сила вырубки (Pmax): ${r==null?void 0:r.fellingPower} кН
Усилие снятия с полосы: ${r==null?void 0:r.effortDropInStripe} кН
Усилие проталкивания: ${r==null?void 0:r.pushingInEffort} кН
Усилие выталкивания: ${r==null?void 0:r.pushingOutEffort} кН
Суммарное усилие: ${r==null?void 0:r.sumEffort} кН
Сопротивление срезу: ${r==null?void 0:r.shearResistanceMedian} МПа
Критич. значение нагрузки: ${r==null?void 0:r.criticalLoad} МПа
Упругая деформация: ${r==null?void 0:r.elasticDeformation} мм

3. Исполнительные размеры инструмента
Припуск на износ рабочего инструмента: ${r==null?void 0:r.workingToolAllowance} мм
Исполнительные размеры матрицы: ${r==null?void 0:r.workingToolValue_Matrix[0]} мм, допуск ${r==null?void 0:r.workingToolValue_Matrix[1]}
Исполнительные размеры пуансона: ${r==null?void 0:r.workingToolValue_Puanson[0]} мм, допуск ${r==null?void 0:r.workingToolValue_Puanson[1]}
Площадь наименьшего сечения: ${r==null?void 0:r.areaOfSmallestSelection} мм2
Площадь опасного сечения матрицы: ${r==null?void 0:r.matrixDangerousArea} мм2
Напряжение сжатия в опасном сечении: ${r==null?void 0:r.compressionInDangerousSection} МПа
Напряжение от изгиба в месте крепления: ${r==null?void 0:r.compressionInBendingPoint} МПа
Напряжение изгиба матрицы: ${r==null?void 0:r.matrixBendingStress} МПа
Растягивающее напряжение матрицы: ${r==null?void 0:r.matrixGapStress} МПа`})]})}),cr=e=>e>=0&&e<.3?[0,0]:e>=.3&&e<.5?[.02,.04]:e>=.5&&e<.8?[.03,.06]:e>=.8&&e<1?[.05,.08]:e>=1&&e<1.2?[.06,.1]:e>=1.2&&e<1.5?[.08,.12]:e>=1.5&&e<1.8?[.1,.16]:e>=1.8&&e<2?[.12,.2]:e>=2&&e<2.2?[.14,.22]:e>=2.2&&e<2.5?[.17,.25]:e>=2.5&&e<2.8?[.2,.28]:e>=2.8&&e<3?[.22,.32]:e>=3&&e<3.5?[.24,.36]:e>=3.5&&e<4?[.32,.46]:e>=4&&e<4.5?[.4,.56]:e>=4.5&&e<5?[.5,.68]:e>=5&&e<6?[.6,.8]:e>=6&&e<7?[.8,1]:e>=7&&e<8?[1,1.3]:e>=8&&e<9?[1.3,1.6]:e>=9&&e<10?[1.5,1.8]:e>=10&&e<11?[1.8,2.2]:e>=11&&e<12?[2.1,2.5]:e>=12&&e<13?[2.4,2.7]:e>=13&&e<14?[2.7,3]:e>=14&&e<15?[3,3.4]:e>=15&&e<16?[3.3,3.7]:e>=16&&e<17?[3.6,4]:e>=17&&e<18?[3.9,4.4]:e>=18&&e<19?[4.2,4.7]:e>=19&&e<20?[4.5,4]:e>=20?[4.9,5.4]:[0,0],be=e=>Number((e*9.80665).toFixed(f)),$s=(e,t)=>t>=0&&t<=1?e>50?{bridge:2,bridge_ins:1.5}:{bridge:1.5,bridge_ins:1}:t>1&&t<=1.2?{bridge:1.8,bridge_ins:1.2}:t>1.2&&t<=2?{bridge:2,bridge_ins:1.5}:t>2&&t<=2.5?{bridge:2.3,bridge_ins:1.8}:t>2.5&&t<=3?{bridge:2.5,bridge_ins:2}:t>3&&t<=4?{bridge:3,bridge_ins:2.5}:t>4&&t<=5?{bridge:4,bridge_ins:3}:t>5&&t<=6?{bridge:4.5,bridge_ins:3.5}:t>6&&t<=7?{bridge:5,bridge_ins:4}:t>7&&t<=8?{bridge:5.5,bridge_ins:4.5}:t>8&&t<=9?{bridge:6,bridge_ins:5}:t>9?{bridge:7,bridge_ins:6}:{bridge:7,bridge_ins:6},As=(e,t)=>100*.785/((1+t/e)*(1+2*(t/e))),Ls=(e,t,r)=>{const s=Math.pow(3,.5);return 100*.785/((1+t/e)*(s/2+(1-s/2)*(1/r)+t/e*(s/2+1/r*(2-s/2))))},Ps=(e,t,r)=>{const{diameter:s,thin:a,stripeCount:n,strength:l,lengthLoosePart:d,coeffOfStock:j,permissibleCompressionStress:b,diameterOfCircle:p,diameterOfCylindricalBelt:h,insideMatrixDiameter:N,permissibleBendingStress:_,permissibleGapStress:T,thinOfMatrix:M}=e,L=Number((s+2*t).toFixed(f)),q=Number((.08825*l).toFixed(f)),m=Number((.8*q).toFixed(f)),k=ir(Number((1.3*3.14*s*m*a/1e3).toFixed(f))),$=1*k,w=Number((.05*5*k).toFixed(f)),P=Number((.07*5*k).toFixed(f)),G=k+w,W=cr(a),X=He(s),R=Number((W[1]-W[0]-+X-X).toFixed(f)),J=Number((.01*1.6*a+1.6*Math.pow((W[0]+W[1])/4,2)/a).toFixed(f)),D=[Number((s-R-J).toFixed(f)),-X],z=[Number((D[0]-W[0]).toFixed(f)),X],I=Number((3.14*s*s/4).toFixed(f)),H=be(Number((2.467*2.1*Math.pow(10,4)*.05*Math.pow(s,4)/Math.pow(d,2)).toFixed(f))),B=be(Number((je(k)/I).toFixed(f))),U=Number((B+be(je(k)/(.1*Math.pow(s,3)))).toFixed(f)),se=1/j*H;if(!(s/a>=5.2*(m/b))||!(B<=b&&U<=b&&k<=se)||!(1<=Math.pow(2.467*2.2*Math.pow(10,4)*.05*Math.pow(s,4)/(4*j*k),1/2))||!(d/s<=.11*Math.pow(s/a,1/2)*Math.pow(2.2*Math.pow(10,4)/m,1/2)))return"Условие проверки пуансона на прочность не выполняется";const ce=be(Number((2.5*je(k)/Math.pow(M,2)*(1-2/3*(h/p))).toFixed(f))),A=Number((M*(N-h)).toFixed(f)),Z=be(.4*je(k)/A);return!(ce<=_&&Z<=T)||!(M>=Math.pow(2.5*je(k)/_*(1-2/3*(h/p)),1/2))?"Условие проверки матрицы на прочность не выполняется":{bridge:t,bridge_ins:r,step:s+r,using_koef:Number(As(s,a).toFixed(f)),width:L,listWidth:L*n,fellingPower:k,perimeter:Number((3.14*s*s/4).toFixed(f)),shearResistanceMedian:Number(be(m).toFixed(f)),effortDropInStripe:$,pushingInEffort:w,pushingOutEffort:P,sumEffort:G,criticalLoad:H,workingToolAllowance:R,elasticDeformation:J,workingToolValue_Matrix:D,workingToolValue_Puanson:z,areaOfSmallestSelection:I,compressionInBendingPoint:U,compressionInDangerousSection:B,matrixBendingStress:ce,matrixDangerousArea:A,matrixGapStress:Z}},Is=(e,t,r)=>{const{diameter:s,thin:a,stripeCount:n,strength:l,lengthLoosePart:d,coeffOfStock:j,permissibleCompressionStress:b,diameterOfCircle:p,diameterOfCylindricalBelt:h,insideMatrixDiameter:N,permissibleBendingStress:_,permissibleGapStress:T,thinOfMatrix:M,row_number:L}=e,q=Math.pow(3,1/2),m=Number(((L-1)*((s+r)/2)*q+s+2*t-.5).toFixed(f)),k=Number((.08825*l).toFixed(f)),$=Number((.8*k).toFixed(f)),w=ir(Number((1.3*3.14*s*$*a/1e3).toFixed(f))),P=1*w,G=Number((.05*5*w).toFixed(f)),W=Number((.07*5*w).toFixed(f)),X=w+G,R=cr(a),J=He(s),D=Number((R[1]-R[0]-+J-J).toFixed(f)),z=Number((.01*1.6*a+1.6*Math.pow((R[0]+R[1])/4,2)/a).toFixed(f)),I=[Number((s-D-z).toFixed(f)),-J],H=[Number((I[0]-R[0]).toFixed(f)),J],B=Number((3.14*s*s/4).toFixed(f)),U=be(Number((2.467*2.1*Math.pow(10,4)*.05*Math.pow(s,4)/Math.pow(d,2)).toFixed(f))),se=be(Number((je(w)/B).toFixed(f))),ce=Number((se+be(je(w)/(.1*Math.pow(s,3)))).toFixed(f)),A=1/j*U;if(!(s/a>=5.2*($/b))||!(se<=b&&ce<=b&&w<=A)||!(1<=Math.pow(2.467*2.2*Math.pow(10,4)*.05*Math.pow(s,4)/(4*j*w),1/2))||!(d/s<=.11*Math.pow(s/a,1/2)*Math.pow(2.2*Math.pow(10,4)/$,1/2)))return"Условие проверки пуансона на прочность не выполняется";const Z=be(Number((2.5*je(w)/Math.pow(M,2)*(1-2/3*(h/p))).toFixed(f))),he=Number((M*(N-h)).toFixed(f)),Ge=be(.4*je(w)/he);return!(Z<=_&&Ge<=T)||!(M>=Math.pow(2.5*je(w)/_*(1-2/3*(h/p)),1/2))?"Условие проверки матрицы на прочность не выполняется":{width:m,listWidth:m*n,bridge:t,step:s+r,bridge_ins:r,using_koef:Number(Ls(s,a,L).toFixed(f)),fellingPower:w,perimeter:Number((3.14*s*s/4).toFixed(f)),shearResistanceMedian:$,effortDropInStripe:P,pushingInEffort:G,pushingOutEffort:W,sumEffort:X,areaOfSmallestSelection:B,compressionInBendingPoint:ce,compressionInDangerousSection:se,criticalLoad:U,elasticDeformation:z,matrixBendingStress:Z,matrixDangerousArea:he,matrixGapStress:Ge,workingToolAllowance:D,workingToolValue_Matrix:I,workingToolValue_Puanson:H}},Gs=e=>{const{diameter:t,thin:r,felling_type:s}=e,{bridge:a,bridge_ins:n}=$s(t,r);return s===ke.ONE_LINE?Ps(e,a,n):Is(e,a,n)},Rs={mass:200,diameter:19.5,thin:3.2,strength:400,stripeCount:4,coeffOfStock:2,lengthLoosePart:2,row_number:0,permissibleCompressionStress:400,permissibleBendingStress:460,permissibleGapStress:400,diameterOfCylindricalBelt:19.48,diameterOfCircle:26,insideMatrixDiameter:53,thinOfMatrix:14,material:Q.STEEL_10,operator_name:"Вася",organization_name:'"ЗАО" БЕЩЕКИ',detail_name:"Лабубу"},Bs=[{content:"Однорядный",value:ke.ONE_LINE},{content:"Шахматный",value:ke.CHECKMATE}],Us=C.memo(({className:e})=>{var m,k,$,w,P,G,W,X,R,J,D,z,I,H,B,U,se,ce;const{register:t,handleSubmit:r,formState:{errors:s},setValue:a,getValues:n,watch:l}=ct({defaultValues:Rs}),[d,j]=C.useState(ke.ONE_LINE),[b,p]=C.useState(d===ke.CHECKMATE),[h,N]=C.useState(),[_,T]=C.useState(""),M=C.useCallback(A=>{a("material",A)},[a]),L=C.useCallback(async A=>{T("");let Z;for(Z in A)Z==="material"||Z==="organization_name"||Z==="operator_name"||(A[Z]=Number(A[Z]));const he=await Gs({...A,felling_type:d,row_number:A.row_number??0});typeof he!="string"?N(he):T(he)},[d]),q=C.useCallback(A=>{j(A),p(A===ke.CHECKMATE)},[]);return i.jsxs(F,{className:de(Re.DeforestationForm,{},[e]),gap:"32",max:!0,children:[i.jsxs(F,{className:Re.header,gap:"8",max:!0,children:[i.jsx(v,{title:"Вырубка",size:"size_l"}),i.jsx(v,{text:"Расчет параметров",theme:"secondary",size:"size_s"})]}),i.jsx("form",{className:Re.form,onSubmit:r(L),children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"1",children:i.jsx(v,{title:"Данные организации",size:"size_s"})}),i.jsx(V,{label:"Ваше ФИО",register:{...t("operator_name",{required:"Поле является обязательным"})},error:(m=s.operator_name)==null?void 0:m.message}),i.jsx(V,{label:"Название организации",register:{...t("organization_name",{required:"Поле является обязательным"})},error:(k=s.organization_name)==null?void 0:k.message}),i.jsx(V,{label:"Наименование обрабатываемой детали",register:{...t("detail_name",{required:"Поле является обязательным"})},error:($=s.detail_name)==null?void 0:$.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"2",children:i.jsx(v,{title:"Материал",size:"size_s"})}),i.jsx(dt,{material:l("material"),onChangeMaterial:M})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"3",children:i.jsx(v,{title:"Исходные данные",size:"size_s"})}),i.jsx(V,{label:"Масса полуфабриката (г)",register:{...t("mass",O)},error:(w=s.mass)==null?void 0:w.message}),i.jsx(V,{label:"Диаметр кружка (мм)",register:{...t("diameter",O)},error:(P=s.diameter)==null?void 0:P.message}),i.jsx(V,{label:"Толщина кружка (мм)",register:{...t("thin",O)},error:(G=s.thin)==null?void 0:G.message}),i.jsx(V,{label:"Прочность материала (МПа)",register:{...t("strength",O)},error:(W=s.strength)==null?void 0:W.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"4",children:i.jsx(v,{title:"Допускаемое напряжение на инструменте",size:"size_s"})}),i.jsx(V,{label:"Допускаемое напряжение на сжатие (МПа)",register:{...t("permissibleCompressionStress",O)},error:(X=s.permissibleCompressionStress)==null?void 0:X.message}),i.jsx(V,{label:"Допускаемое напряжение на изгиб (МПа)",register:{...t("permissibleBendingStress",O)},error:(R=s.permissibleBendingStress)==null?void 0:R.message}),i.jsx(V,{label:"Допускаемое напряжение на разрыв (МПа)",register:{...t("permissibleGapStress",O)},error:(J=s.permissibleGapStress)==null?void 0:J.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"5",children:i.jsx(v,{title:"Параметры матрицы",size:"size_s"})}),i.jsx(V,{label:"Диаметр цилиндрического пояска (мм)",register:{...t("diameterOfCylindricalBelt",O)},error:(D=s.diameterOfCylindricalBelt)==null?void 0:D.message}),i.jsx(V,{label:"Диаметр опорного кольца (мм)",register:{...t("diameterOfCircle",O)},error:(z=s.diameterOfCircle)==null?void 0:z.message}),i.jsx(V,{label:"Наружный диаметр матрицы (мм)",register:{...t("insideMatrixDiameter",O)},error:(I=s.insideMatrixDiameter)==null?void 0:I.message}),i.jsx(V,{label:"Толщина матрицы (мм)",register:{...t("insideMatrixDiameter",O)},error:(H=s.insideMatrixDiameter)==null?void 0:H.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:"6",children:i.jsx(v,{title:"Доп. параметры",size:"size_s"})}),i.jsx(nr,{label:"Раскрой:",value:d,options:Bs,onChange:q}),b&&i.jsx(V,{label:"Число рядов",register:{...t("row_number",O)},error:(B=s.row_number)==null?void 0:B.message}),i.jsx(V,{label:"Количество полос для раскроя",register:{...t("stripeCount",O)},error:(U=s.stripeCount)==null?void 0:U.message}),i.jsx(V,{label:"Коэф. запаса устойчивости (от 2 до 3)",register:{...t("coeffOfStock",O)},error:(se=s.coeffOfStock)==null?void 0:se.message}),i.jsx(V,{label:"Длина незакреп. части пуансона",register:{...t("lengthLoosePart",O)},error:(ce=s.lengthLoosePart)==null?void 0:ce.message})]})}),i.jsx(te,{type:"submit",children:"Произвести расчет"})]})}),_&&i.jsx(v,{text:_,theme:"error"}),h&&i.jsxs(F,{className:Re.resultWrap,max:!0,gap:"20",children:[i.jsx(Os,{result:h}),i.jsx(ft,{generatedFunctionName:Ke.FELLING_EXCEL_REPORT,reportName:`Отчет о вырубке_${Te()}`,data:{...h,operatorName:n("operator_name"),organizationName:n("organization_name"),date:`${Te()}, ${_t()}`,material:n("material"),detailName:n("detail_name"),cutting:d===ke.ONE_LINE?"однорядный":"шахматный",mass:Number(n("mass")),thin:Number(n("thin")),diameter:Number(n("diameter")),insideMatrixDiameter:Number(n("insideMatrixDiameter"))}})]})]})});function qs(e,t=30){return e.length>t?`${e.substring(0,t)}...`:e}const Ws="_tab_1lt6d_1",Wt={tab:Ws},Ht=20,dr=C.memo(({className:e,tabs:t,withNumeric:r})=>{const s=C.useCallback(a=>()=>{const n=document.getElementById(a);n&&n.scrollIntoView({behavior:"smooth"})},[]);return t?i.jsx(F,{className:de(Wt.TabPanel,{},[e]),gap:"4",children:Object.values(t).map((a,n)=>i.jsx(te,{onClick:s(a.id),className:Wt.tab,theme:"clear",title:a.title.length>Ht?a.title:"",children:`${r?`${n+1}. `:""}${qs(a.title,Ht)}`},`tab-${n}`))}):null}),Hs={organizationData:{id:"crimping-organizationData",title:"Данные организации"},initialParams:{id:"felling-initialParams",title:"Исходные данные"},permissible:{id:"felling-permissible",title:"Допускаемое напряжение на инструменте"},matrixParams:{id:"felling-matrixParams",title:"Параметры матрицы"},additionalParams:{id:"felling-additionalParams",title:"Доп. параметры"},material:{id:"felling-material",title:"Материал"},results:{id:"drowing-results",title:"Результаты"}};C.memo(({className:e})=>i.jsx(F,{className:de("",{},[e]),gap:"20",max:!0,children:i.jsx(dr,{tabs:Hs,withNumeric:!0})}));const Ks="_operations_1juax_1",tt={operations:Ks},Ys=C.memo(e=>{const{crimpingData:t,className:r}=e;return i.jsxs(F,{className:de(tt.CrimpingResult,{},[r]),gap:"32",max:!0,children:[i.jsx(v,{title:"Результат",size:"size_l"}),i.jsxs(F,{gap:"12",children:[i.jsx(v,{title:"Результат расчёта количества операций",size:"size_s"}),i.jsx(v,{textPre:!0,size:"size_s",text:`Количество операций: ${t.operationsCount}
Коэф. деформации: ${t.degree_of_deformation}`})]}),i.jsxs(F,{className:tt.operations,gap:"32",max:!0,children:[i.jsxs(F,{gap:"8",max:!0,children:[i.jsx(v,{title:"Данные по операциям",size:"size_s"}),i.jsx(v,{text:"Полный расчет, а также генерация Excel-отчета",theme:"secondary",size:"size_s"})]}),i.jsx(F,{max:!0,gap:"16",children:t.operationsData.map((s,a)=>i.jsx(sr,{className:tt.operation,mainContent:i.jsx(v,{title:`Операция №${a+1}`,size:"size_s"}),additionalContent:i.jsx(v,{textPre:!0,size:"size_s",text:`1. Параметры заготовки:
Коэф. обжима: ${s.coeff_of_crimping}
Предельный коэф. обжима: ${s.limit_coeff_of_crimping}
Толщина кромки заготовки: ${s.thin_of_cromk} мм
Диаметр дульца: ${s.diameter_dulca} мм
Диаметр обжимного стержня: ${s.diameter_of_crimping_rod} мм
Угол альфа: ${s.angle_a} гр.
Угол бета: ${s.angle_b} гр.
Высота ската: ${s.skat_height} мм
Радиус скругления: ${s.circle_radius} мм

2. Исполнительные размеры инструмента:
Исполнительные размеры матрицы: ${s.executive_diameter_of_matrix} мм
Припуск на износ матрицы: ${s.allowance_for_wear_of_matrix} мм
Упргуая разгрузка: ${s.elastic_unloading}
Допуск на неточность: ${s.inaccuracy_tolerance} мм
Тех. сила: ${s.tech_strength} Н
									`})},`operation-${a}`))})]})]})}),Xs="_form_61ykh_1",Zs="_header_61ykh_5",Js="_resultWrap_61ykh_10",Qs="_btn_61ykh_15",me={form:Xs,header:Zs,resultWrap:Js,btn:Qs};function Pe(e){return 1/Math.tan(e*(3.14/180))}const ur=e=>{const{coeff_of_stock:t,angle_a:r,angle_b:s,difference_walls:a}=e,n=r-s,l=t*1.25/(1-.5*a),d=.125*Math.tan(n*(3.14/180)),j=Math.tan(n/2*(3.14/180))/(6*Math.cos(n*(3.14/180)));return Number((l*Math.pow(d+j,2)).toFixed(10))},ei=(e,t,r,s)=>{const a=Number((1.5*(t.strength_limit/Math.pow(1-t.relative_uniform_contraction,2))*(1.35-2*t.relative_uniform_contraction)*Math.pow(t.up_init_thin/t.down_init_diameter,.5)*Math.sin(s*.017444444444444446)).toFixed(f)),n=Number(((t.yield_strength+t.strength_limit)/2).toFixed(f)),l=[e];let d=1,j=t.angle_b;for(var b=0,p=s;p>0;p*=.6){j=j*.5;const h=Number((1-t.ramp_height/l[b].diameter_dulca*Math.tan(p*(3.14/180))).toFixed(f)),N=Number((2*(1-t.relative_uniform_contraction)-Math.pow(Math.pow(1-2*t.relative_uniform_contraction,2)+(1.6*n*Math.cos(s*(3.14/180))-a*Math.pow(1-t.relative_uniform_contraction,2))/(t.strength_limit*(1+.12*Pe(s))*(3-2*Math.cos(s*(3.14/180)))),1/2)).toFixed(f));if(!(h>=N))return{operations:[],operationsCount:0};const _=Number((l[b].thin_of_cromk/Math.pow(h,1/2)).toFixed(f)),T=Number((h*l[b].diameter_dulca).toFixed(f)),M=_/T,L=ur({angle_a:p,angle_b:j,coeff_of_stock:t.coeff_of_stock,difference_walls:r});if(M<L)d+=1,l.push({coeff_of_crimping:h,diameter_dulca:T,limit_coeff_of_crimping:N,thin_of_cromk:_,angle_a:Number(p),angle_b:j,executive_diameter_of_matrix:0,allowance_for_wear_of_matrix:0,elastic_unloading:0,inaccuracy_tolerance:.02,skat_height:0,median_diameter:0,circle_radius:0,diameter_of_crimping_rod:0,tech_strength:0}),b+=1;else{const q=Number((t.up_init_diameter/l[b].diameter_dulca).toFixed(f)),m=Number((l[b].thin_of_cromk/Math.pow(q,1/2)).toFixed(f));d+=1,l.push({coeff_of_crimping:q,diameter_dulca:t.up_init_diameter,limit_coeff_of_crimping:N,thin_of_cromk:m,angle_a:Number(t.angle_a),angle_b:t.angle_b,executive_diameter_of_matrix:0,allowance_for_wear_of_matrix:0,elastic_unloading:0,inaccuracy_tolerance:.02,skat_height:0,median_diameter:0,circle_radius:0,diameter_of_crimping_rod:0,tech_strength:0});break}}return{operations:l,operationsCount:d}},ti=e=>{const{angle_a:t,angle_b:r,coeff_of_stock:s,yield_strength:a,up_init_diameter:n,down_init_diameter:l,up_init_thin:d,ramp_height:j,relative_uniform_contraction:b,strength_limit:p,allow_thin:h}=e,N={operationsCount:0,operationsData:[],degree_of_deformation:Number(Math.log(1/(n/l)).toFixed(f))},_=Number((d/l).toFixed(f)),T=(d-(d-h))/((d+(d-h))/2),M=ur({angle_a:t,angle_b:r,coeff_of_stock:s,difference_walls:T});N.operationsCount+=1;const L=Number((1-j*Math.tan(t*.6*(3.14/180))/l).toFixed(f)),q=Number((d/Math.pow(L,1/2)).toFixed(f)),m=Number((L*l).toFixed(f)),k=Number((1.5*(p/Math.pow(1-b,2))*(1.35-2*b)*Math.pow(d/l,1/2)*Math.sin(t)).toFixed(f)),$=Number(((a+p)/2).toFixed(f)),w=Number((2*(1-b)-Math.pow(Math.pow(1-2*b,2)+(1.6*$*Math.cos(t*(3.14/180))-k*Math.pow(1-b,2))/(p*(1+.12*Pe(t))*(3-2*Math.cos(t*(3.14/180)))),1/2)).toFixed(f)),P=Number((n/l).toFixed(f));if(N.operationsData.push({coeff_of_crimping:L,thin_of_cromk:q,limit_coeff_of_crimping:w,diameter_dulca:m,angle_a:Number(t),angle_b:r,executive_diameter_of_matrix:0,allowance_for_wear_of_matrix:0,elastic_unloading:0,inaccuracy_tolerance:.02,skat_height:0,median_diameter:0,circle_radius:0,diameter_of_crimping_rod:0,tech_strength:0}),_>=M&&P>=w)return N;let G={operations:[],operationsCount:N.operationsCount};for(;G.operations.length===0;)N.operationsData[0].angle_a*=.6,N.operationsData[0].angle_b*=.5,G=ei(N.operationsData[0],e,T,N.operationsData[0].angle_a);return N.operationsData=G.operations,N.operationsCount=G.operationsCount,N},ri=(e,t)=>{let r=0;for(var s=0;s<e.operationsCount;s++){if(s!==e.operationsCount-1){const a=Number((.0011*(t.mid_init_diameter-2*t.mid_init_thin)).toFixed(f)),n=.24,l=e.operationsData[r].diameter_dulca-n-a,d=Number(((t.down_init_diameter-l)/2*Pe(e.operationsData[s].angle_a)).toFixed(f));e.operationsData[s]={...e.operationsData[s],elastic_unloading:a,allowance_for_wear_of_matrix:n,executive_diameter_of_matrix:l,skat_height:d,circle_radius:Number(((t.mid_init_diameter-2*t.mid_init_thin)/2).toFixed(f)),diameter_of_crimping_rod:Number((e.operationsData[r].diameter_dulca-2*e.operationsData[s].thin_of_cromk+.05).toFixed(f))}}else{const a=Number((.01*e.operationsData[r].diameter_dulca).toFixed(f)),n=.24,l=Number((e.operationsData[r].diameter_dulca-n-a).toFixed(f)),d=t.ramp_height;e.operationsData[s]={...e.operationsData[s],elastic_unloading:a,allowance_for_wear_of_matrix:n,executive_diameter_of_matrix:l,skat_height:d,circle_radius:Number((t.down_init_diameter/2).toFixed(f)),diameter_of_crimping_rod:Number((e.operationsData[r].diameter_dulca-2*e.operationsData[s].thin_of_cromk+.05).toFixed(f))}}r+=1}for(var s=0;s<e.operationsCount;s++){const n=t.strength_limit*(1-2*t.relative_uniform_contraction)/Math.pow(1-t.relative_uniform_contraction,2);if(s===0){const l=Number((3.14*t.down_init_diameter*t.up_init_thin/2*(n+1.57*(1-e.operationsData[s].coeff_of_crimping))*((1-e.operationsData[s].coeff_of_crimping)*(1+.18*Pe(e.operationsData[s].angle_a))+Math.pow(e.operationsData[s].diameter_dulca/e.operationsData[s].thin_of_cromk,.5)*Math.sin(e.operationsData[s].angle_a*.017444444444444446))).toFixed(0));e.operationsData[s]={...e.operationsData[s],tech_strength:l}}else{const l=Number((3.14*e.operationsData[s].diameter_dulca*e.operationsData[s].thin_of_cromk/2*(n+1.57*(1-e.operationsData[s].coeff_of_crimping))*((1-e.operationsData[s].coeff_of_crimping)*(1+.18*Pe(e.operationsData[s].angle_a))+Math.pow(e.operationsData[s].diameter_dulca/e.operationsData[s].thin_of_cromk,.5)*Math.sin(e.operationsData[s].angle_a*.017444444444444446))).toFixed(0));e.operationsData[s]={...e.operationsData[s],tech_strength:l}}}return e},si=e=>{const t=ti(e);return ri(t,e)},ii={up_init_diameter:75,mid_init_diameter:130,down_init_diameter:145,up_init_thin:2,mid_init_thin:3,down_init_thin:4,allow_thin:.25,strength_limit:300,yield_strength:200,relative_uniform_contraction:.2,ramp_height:25,angle_a:47,angle_b:1,coeff_of_stock:2,material:Q.STEEL_10,operator_name:"Вася",organization_name:'"ЗАО" БЕЩЕКИ',detail_name:"Гильза мощная"},ni=C.memo(({className:e})=>{var M,L,q,m,k,$,w,P,G,W,X,R,J,D,z,I,H;const{register:t,handleSubmit:r,formState:{errors:s},setValue:a,getValues:n,watch:l}=ct({defaultValues:ii}),[d,j]=C.useState(),{onCopyText:b}=lr(),{isDesktop:p}=ut();let h=p?1:0;const N=C.useCallback(async B=>{let U;for(U in B)U==="material"||U==="organization_name"||U==="operator_name"||(B[U]=Number(B[U]));const se=si(B);j(se)},[]),_=C.useCallback(B=>{a("material",B)},[a]),T=C.useCallback(B=>{a("material",B.data.modelParams.material),Object.entries(B.data.modelParams.variables).filter(([,U])=>!!U).map(([U,se])=>{a(U,se)})},[a]);return i.jsxs(F,{className:de("",{},[e]),gap:"32",max:!0,children:[i.jsxs(F,{className:me.header,gap:"8",max:!0,children:[i.jsx(v,{title:"Обжим",size:"size_l"}),i.jsx(v,{text:"Работа с моделью КОМПАС 3D и расчет параметров",theme:"secondary",size:"size_s"})]}),i.jsx(ar,{className:me.parser,onSetParsedValues:T,title:"Работа с моделью",description:"Для работы с моделью необходимо в программе КОМПАС 3D присвоить необходимым характерным размерам значения переменных, представленных ниже",variablesToParse:[["Диаметр изделия в.р.с (фd1)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("up_init_diameter"),children:i.jsx(v,{text:"up_init_diameter",size:"size_s",align:"center"})},"up_init_diameter")],["Диаметр изделия с.р.с (фd2)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("mid_init_diameter"),children:i.jsx(v,{text:"mid_init_diameter",size:"size_s",align:"center"})},"mid_init_diameter")],["Диаметр изделия н.р.с (фd3)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("down_init_diameter"),children:i.jsx(v,{text:"down_init_diameter",size:"size_s",align:"center"})},"down_init_diameter")],["Толщина стенки в.р.с. (S1)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("up_init_thin"),children:i.jsx(v,{text:"up_init_thin",size:"size_s",align:"center"})},"up_init_thin")],["Толщина стенки с.р.с. (S2)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("mid_init_thin"),children:i.jsx(v,{text:"mid_init_thin",size:"size_s",align:"center"})},"mid_init_thin")],["Толщина стенки н.р.с. (S3)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("down_init_thin"),children:i.jsx(v,{text:"down_init_thin",size:"size_s",align:"center"})},"down_init_thin")],["Высота ската (h2)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("ramp_height"),children:i.jsx(v,{text:"ramp_height",size:"size_s",align:"center"})},"ramp_height")],["Угол a (a)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("angle_a"),children:i.jsx(v,{text:"angle_a",size:"size_s",align:"center"})},"angle_a")],["Угол b (b)",i.jsx(te,{className:me.btn,title:"Скопировать",theme:"clear",size:"size_s",onClick:()=>b("angle_b"),children:i.jsx(v,{text:"angle_b",size:"size_s",align:"center"})},"angle_b")]]}),i.jsx("form",{className:me.form,onSubmit:r(N),children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Данные организации",size:"size_s"})}),i.jsx(V,{label:"Ваше ФИО",register:{...t("operator_name",{required:"Поле является обязательным"})},error:(M=s.operator_name)==null?void 0:M.message}),i.jsx(V,{label:"Название организации",register:{...t("organization_name",{required:"Поле является обязательным"})},error:(L=s.organization_name)==null?void 0:L.message}),i.jsx(V,{label:"Наименование обрабатываемой детали",register:{...t("detail_name",{required:"Поле является обязательным"})},error:(q=s.detail_name)==null?void 0:q.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Материал",size:"size_s",weight:"weight_bold"})}),i.jsx(dt,{material:l("material"),onChangeMaterial:_})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Диаметр",size:"size_s"})}),i.jsx(V,{label:"Диаметр в в.р.с (мм)",register:{...t("up_init_diameter",O)},error:(m=s.up_init_diameter)==null?void 0:m.message}),i.jsx(V,{label:"Диаметр в с.р.с (мм)",register:{...t("mid_init_diameter",O)},error:(k=s.mid_init_diameter)==null?void 0:k.message}),i.jsx(V,{label:"Диаметр в н.р.с (мм)",register:{...t("down_init_diameter",O)},error:($=s.down_init_diameter)==null?void 0:$.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Толщина",size:"size_s"})}),i.jsx(V,{label:"Толщина стенки в.р.с. (мм)",register:{...t("up_init_thin",O)},error:(w=s.up_init_thin)==null?void 0:w.message}),i.jsx(V,{label:"Толщина стенки с.р.с. (мм)",register:{...t("mid_init_thin",O)},error:(P=s.mid_init_thin)==null?void 0:P.message}),i.jsx(V,{label:"Толщина стенки н.р.с. (мм)",register:{...t("down_init_thin",O)},error:(G=s.down_init_thin)==null?void 0:G.message}),i.jsx(V,{label:"Допуск на толщину (мм)",register:{...t("allow_thin",O)},error:(W=s.allow_thin)==null?void 0:W.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Параметры материала",size:"size_s"})}),i.jsx(V,{label:"Предел прочности (МПа)",register:{...t("strength_limit",O)},error:(X=s.strength_limit)==null?void 0:X.message}),i.jsx(V,{label:"Предел текучести (МПа)",register:{...t("yield_strength",O)},error:(R=s.yield_strength)==null?void 0:R.message}),i.jsx(V,{label:"Отн. равномерн. сужение",register:{...t("relative_uniform_contraction",O)},error:(J=s.relative_uniform_contraction)==null?void 0:J.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Доп. параметры",size:"size_s"})}),i.jsx(V,{label:"Высота ската (мм)",register:{...t("ramp_height",O)},error:(D=s.ramp_height)==null?void 0:D.message}),i.jsx(V,{label:"Коэф. запаса устойчивости",register:{...t("coeff_of_stock",O)},error:(z=s.coeff_of_stock)==null?void 0:z.message})]})}),i.jsx(ne,{children:i.jsxs(F,{gap:"20",max:!0,children:[i.jsx(le,{number:String(h+=1),children:i.jsx(v,{title:"Углы конусности ската и корпуса",size:"size_s"})}),i.jsx(V,{label:"Угол A (градусы)",register:{...t("angle_a",O)},error:(I=s.angle_a)==null?void 0:I.message}),i.jsx(V,{label:"Угол B (градусы)",register:{...t("angle_b",O)},error:(H=s.angle_b)==null?void 0:H.message})]})}),i.jsx(te,{type:"submit",children:"Произвести расчет"})]})}),d&&i.jsxs(F,{className:me.resultWrap,max:!0,gap:"20",children:[i.jsx(Ys,{className:me.result,crimpingData:d}),i.jsx(ft,{generatedFunctionName:Ke.CRIMPING_EXCEL_REPORT,reportName:`Отчет об обжиме_${Te()}`,data:{...d,operatorName:n("operator_name"),organizationName:n("organization_name"),date:`${Te()}, ${_t()}`,material:n("material"),detailName:n("detail_name"),init_diameter:Number(n("down_init_diameter")),fin_diameter:Number(n("up_init_diameter")),init_thin:Number(n("up_init_thin"))}})]})]})}),oi={model:{id:"crimping-model",title:"Работа с моделью"},organizationData:{id:"crimping-organizationData",title:"Данные организации"},material:{id:"crimping-material",title:"Материал"},diameter:{id:"crimping-diameter",title:"Диаметр"},thickness:{id:"crimping-thickness",title:"Толщина"},strength:{id:"crimping-strength",title:"Параметры материала"},additionalParams:{id:"crimping-additionalParams",title:"Доп. параметры"},angle:{id:"crimping-angle",title:"Углы конусности ската и корпуса"},results:{id:"drowing-results",title:"Результаты"}};C.memo(({className:e})=>i.jsx(F,{className:de("",{},[e]),gap:"20",max:!0,children:i.jsx(dr,{tabs:oi,withNumeric:!0})}));const ai=C.memo(()=>{const{id:e}=Cr(),[t,r]=C.useState();if(C.useEffect(()=>{const a=yr.find(n=>n.type===e);a&&r(a)},[e]),!t)return i.jsx(jt,{children:i.jsx(F,{justify:"center",gap:"16",children:i.jsx(v,{text:"Расчётный метод не найден",size:"size_l",align:"center"})})});const s=()=>{switch(t.type){case"drowing":return i.jsx(Vs,{});case"felling":return i.jsx(Us,{});case"crimping":return i.jsx(ni,{})}};return i.jsx(jt,{children:s()})}),fi=Object.freeze(Object.defineProperty({__proto__:null,default:ai},Symbol.toStringTag,{value:"Module"}));export{Ke as I,le as N,fi as P,ui as i};
